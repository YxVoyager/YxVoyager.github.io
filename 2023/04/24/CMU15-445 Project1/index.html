



<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#FFF">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">

<link rel="icon" type="image/ico" sizes="32x32" href="/images/favicon.ico">
  <meta http-equiv="Cache-Control" content="no-transform">
  <meta http-equiv="Cache-Control" content="no-siteapp">


<link rel="alternate" type="application/rss+xml" title="" href="https://adventure-yx.github.io/rss.xml" />
<link rel="alternate" type="application/atom+xml" title="" href="https://adventure-yx.github.io/atom.xml" />
<link rel="alternate" type="application/json" title="" href="https://adventure-yx.github.io/feed.json" />

<link rel="stylesheet" href="//fonts.googleapis.com/css?family=Mulish:300,300italic,400,400italic,700,700italic%7CFredericka%20the%20Great:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20JP:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20SC:300,300italic,400,400italic,700,700italic%7CInconsolata:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext">

<link rel="stylesheet" href="/css/app.css?v=0.2.5">

  

<link rel="canonical" href="https://adventure-yx.github.io/2023/04/24/CMU15-445%20Project1/">



  <title>
CMU15-445ï¼šProject |
Adventure =  = å¿ƒæœ‰æ‰€å‘ã€‚æ—¥å¤ä¸€æ—¥ï¼Œå¿…æœ‰ç²¾è¿›</title>
<meta name="generator" content="Hexo 6.3.0"></head>
<body itemscope itemtype="http://schema.org/WebPage">
  <div id="loading">
    <div class="cat">
      <div class="body"></div>
      <div class="head">
        <div class="face"></div>
      </div>
      <div class="foot">
        <div class="tummy-end"></div>
        <div class="bottom"></div>
        <div class="legs left"></div>
        <div class="legs right"></div>
      </div>
      <div class="paw">
        <div class="hands left"></div>
        <div class="hands right"></div>
      </div>
    </div>
  </div>
  <div id="container">
    <header id="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="inner">
        <div id="brand">
          <div class="pjax">
          
  <h1 itemprop="name headline">CMU15-445ï¼šProject
  </h1>
  
<div class="meta">
  <span class="item" title="åˆ›å»ºæ—¶é—´ï¼š2023-04-24 14:03:05">
    <span class="icon">
      <i class="ic i-calendar"></i>
    </span>
    <span class="text">å‘è¡¨äº</span>
    <time itemprop="dateCreated datePublished" datetime="2023-04-24T14:03:05+08:00">2023-04-24</time>
  </span>
</div>


          </div>
        </div>
        <nav id="nav">
  <div class="inner">
    <div class="toggle">
      <div class="lines" aria-label="åˆ‡æ¢å¯¼èˆªæ ">
        <span class="line"></span>
        <span class="line"></span>
        <span class="line"></span>
      </div>
    </div>
    <ul class="menu">
      <li class="item title"><a href="/" rel="start">Adventure</a></li>
    </ul>
    <ul class="right">
      <li class="item theme">
        <i class="ic i-sun"></i>
      </li>
      <li class="item search">
        <i class="ic i-search"></i>
      </li>
    </ul>
  </div>
</nav>

      </div>
      <div id="imgs" class="pjax">
        <ul>
          <li class="item" data-background-image="https://cdn.jsdelivr.net/gh/Adventure-yx/img/banner/sky-8.jpg"></li>
          <li class="item" data-background-image="https://img.picgo.net/2023/04/02/sky-1683c8e10dd42012a8.jpeg"></li>
          <li class="item" data-background-image="https://img.picgo.net/2023/04/02/sky-542a9d073b04482e8.jpeg"></li>
          <li class="item" data-background-image="https://img.picgo.net/2023/04/02/sky-19f963fbc408cf0014.png"></li>
          <li class="item" data-background-image="https://img.picgo.net/2023/04/02/sky-99681dcf7dddeea33.jpeg"></li>
          <li class="item" data-background-image="https://img.picgo.net/2023/04/02/sky-157c501dd887202cec.jpeg"></li>
        </ul>
      </div>
    </header>
    <div id="waves">
      <svg class="waves" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto">
        <defs>
          <path id="gentle-wave" d="M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z" />
        </defs>
        <g class="parallax">
          <use xlink:href="#gentle-wave" x="48" y="0" />
          <use xlink:href="#gentle-wave" x="48" y="3" />
          <use xlink:href="#gentle-wave" x="48" y="5" />
          <use xlink:href="#gentle-wave" x="48" y="7" />
        </g>
      </svg>
    </div>
    <main>
      <div class="inner">
        <div id="main" class="pjax">
          
  <div class="article wrap">
    
<div class="breadcrumb" itemscope itemtype="https://schema.org/BreadcrumbList">
<i class="ic i-home"></i>
<span><a href="/">é¦–é¡µ</a></span>
</div>

    <article itemscope itemtype="http://schema.org/Article" class="post block" lang="zh-CN">
  <link itemprop="mainEntityOfPage" href="https://adventure-yx.github.io/2023/04/24/CMU15-445%20Project1/">

  <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="image" content="/images/avatar.jpg">
    <meta itemprop="name" content="AdventureYX">
    <meta itemprop="description" content="å¿ƒæœ‰æ‰€å‘ã€‚æ—¥å¤ä¸€æ—¥ï¼Œå¿…æœ‰ç²¾è¿›, ">
  </span>

  <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="">
  </span>

  <div class="body md" itemprop="articleBody">
    

    <h1 id="overview"><a class="markdownIt-Anchor" href="#overview">#</a> Overview</h1>
<ul>
<li>æœ¬è¯¾ç¨‹è¦æ±‚ä¸º <span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2NtdS1kYi9idXN0dWI=">BusTub</span> DBMS å®ç°ä¸€ä¸ªæ–°çš„é¢å‘ç£ç›˜çš„å­˜å‚¨ç®¡ç†å™¨ (disk-oriented storage manager)ã€‚è¿™æ ·çš„å­˜å‚¨ç®¡ç†å™¨å‡å®šæ•°æ®åº“çš„ä¸»è¦å­˜å‚¨ä½ç½®æ˜¯ç£ç›˜ä¸Šã€‚</li>
<li>ç¬¬ä¸€ä¸ªç¼–ç¨‹é¡¹ç›®æ˜¯å®ç°ä¸€ä¸ªç¼“å†²æ±  (buffer pool)ã€‚ç¼“å†²æ± è´Ÿè´£å°†ç‰©ç†é¡µä»ä¸»å­˜ä¸­æ¥å›ç§»åŠ¨åˆ°ç£ç›˜ã€‚å®ƒå…è®¸ DBMS æ”¯æŒå¤§äºç³»ç»Ÿå¯ç”¨å†…å­˜é‡çš„æ•°æ®åº“ã€‚ç¼“å†²æ± çš„æ“ä½œå¯¹ç³»ç»Ÿçš„å…¶ä»–éƒ¨åˆ†æ˜¯é€æ˜ (transparent) çš„ã€‚æ¯”å¦‚ï¼šç³»ç»Ÿä½¿ç”¨å…¶å”¯ä¸€çš„æ ‡è¯†ç¬¦ (page_id_t) å‘ç¼“å†²æ± è¦ (ask) ä¸€ä¸ªé¡µé¢ï¼Œå®ƒä¸çŸ¥é“è¿™ä¸ªé¡µé¢æ˜¯å¦å·²ç»åœ¨å†…å­˜ä¸­ï¼Œæˆ–è€…ç³»ç»Ÿæ˜¯å¦å¿…é¡»ä»ç£ç›˜ä¸­æ£€ç´¢å®ƒã€‚</li>
<li>æ³¨æ„ï¼šå®ç°å¿…é¡»æ˜¯çº¿ç¨‹å®‰å…¨çš„ (thread-safe)ã€‚å¤šä¸ªçº¿ç¨‹éƒ½å°†åŒæ—¶è®¿é—®æ•°æ®ç»“æ„ï¼Œæ‰€ä»¥å¿…é¡»ç¡®ä¿ä»–ä»¬çš„å…³é”®éƒ¨åˆ†æ”¶åˆ° latch çš„ä¿æŠ¤ã€‚ï¼ˆå³ï¼šé”ï¼‰</li>
<li>æˆ‘ä»¬éœ€è¦åœ¨æˆ‘ä»¬çš„å­˜å‚¨ç®¡ç†å™¨ä¸­å®ç°ä»¥ä¸‹ 3 ä¸ªéƒ¨åˆ†ï¼š
<ul>
<li><a target="_blank" rel="noopener" href="https://15445.courses.cs.cmu.edu/fall2022/project1/#extendible-hash-table"><strong>Extendible Hash Table</strong></a></li>
<li><a target="_blank" rel="noopener" href="https://15445.courses.cs.cmu.edu/fall2022/project1/#lru-k-replacer"><strong>LRU-K Replacement Policy</strong></a></li>
<li><a target="_blank" rel="noopener" href="https://15445.courses.cs.cmu.edu/fall2022/project1/#buffer-pool-instance"><strong>Buffer Pool Manager Instance</strong></a></li>
</ul>
</li>
</ul>
<h1 id="project-specification"><a class="markdownIt-Anchor" href="#project-specification">#</a> Project Specification</h1>
<ul>
<li>å¯¹æ­¤æ¬¡ä»»åŠ¡å®ç°çš„æ¯ä¸ªç»„ä»¶ï¼Œéƒ½æä¾›äº†åŒ…å«æ‰€éœ€è¦æˆ‘ä»¬å®ç°çš„ API çš„å­˜æ ¹ç±» (stub class)ã€‚æˆ‘ä»¬ä¸åº”è¯¥ä¿®æ”¹è¿™äº›ç±»ä¸­é¢„å…ˆå®šä¹‰çš„å‡½æ•°ç­¾å (function signatures)ã€‚å¦‚æœä¿®æ”¹äº†ï¼Œç”¨æ¥è¯„åˆ†çš„æµ‹è¯•ä»£ç å¯èƒ½ä¼šè¢«ç ´åã€‚å°±è¯„åˆ†ä¸äº†äº†ã€‚</li>
<li>å¦‚æœä¸€ä¸ªç±»å·²ç»åŒ…å«äº†æ•°æ®æˆå‘˜ï¼Œæˆ‘ä»¬ä¸åº”è¯¥åˆ é™¤å®ƒä»¬ã€‚ä¾‹å¦‚ <code>BufferPoolManagerInstance</code>  é‡Œé¢çš„ <code>DiskManager</code> ,  <code>ExtendibleHashTable</code>  å’Œ <code>LRUKReplacer</code>  å¯¹è±¡ã€‚è¿™äº›éƒ½æ˜¯å®ç°ç³»ç»Ÿå…¶ä»–éƒ¨åˆ†æ‰€éœ€è¦çš„åŠŸèƒ½æ‰€éœ€è¦çš„ã€‚å¦ä¸€æ–¹é¢ï¼Œæˆ‘ä»¬å¯èƒ½è¦å‘è¿™äº›ç±»æ¥æ·»åŠ æ•°æ®æˆå‘˜ï¼Œä»¥ä¾¿æ­£ç¡®å®ç°æ‰€éœ€è¦çš„åŠŸèƒ½ã€‚ä¹Ÿå¯ä»¥ç»™è¿™äº›ç±»æ·»åŠ è¾…åŠ©å‡½æ•°ã€‚</li>
<li>é™¤éæœ‰è§„å®šï¼Œæˆ‘ä»¬å¯ä»¥åœ¨é¡¹ç›®ä¸­ä½¿ç”¨ä»»ä½•çš„ C++17 å®¹å™¨ã€‚å¯ä»¥è‡ªè¡Œé€‰æ‹©ã€‚æ³¨æ„å¤šçº¿ç¨‹å®‰å…¨å’Œé”çš„ä½¿ç”¨ï¼Œæ¥ä¿æŠ¤å®ƒä»¬ã€‚ä½†æ˜¯æˆ‘ä»¬ä¸èƒ½å¸¦å…¥é¢å¤–çš„ç¬¬ä¸‰æ–¹ä¾èµ–ï¼Œæ¯”å¦‚ boostã€‚</li>
</ul>
<h1 id="extendible-hash-table"><a class="markdownIt-Anchor" href="#extendible-hash-table">#</a> Extendible Hash Table</h1>
<h2 id="task"><a class="markdownIt-Anchor" href="#task">#</a> task</h2>
<p>åœ¨è¿™ä¸ªé¡¹ç›®çš„ç¬¬ä¸€éƒ¨åˆ†ï¼Œæˆ‘ä»¬å°†å»ºç«‹ä¸€ä¸ªé€šç”¨çš„å“ˆå¸Œè¡¨ï¼Œä½¿ç”¨æ— åºçš„æ¡¶ (unordered buckets) æ¥å­˜å‚¨å”¯ä¸€çš„é”®å€¼å¯¹ (key/value pairs)ã€‚<br>
æˆ‘ä»¬çš„å“ˆå¸Œè¡¨å¿…é¡»æ”¯æŒ</p>
<ul>
<li>æ’å…¥ / åˆ é™¤ é”®å€¼å¯¹çš„èƒ½åŠ›ã€‚</li>
<li>æˆ‘ä»¬æ— éœ€æŒ‡å®šè¡¨çš„æœ€å¤§ sizeï¼Œè¡¨åº”è¯¥å¯ä»¥æ ¹æ®éœ€è¦é€æ­¥å¢åŠ å¤§å°ï¼Œä½†æ˜¯æˆ‘ä»¬ä¸éœ€è¦ç¼©å°è¡¨ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œæˆ‘ä»¬ä¸éœ€è¦å®ç°å¯¹ç¼©å°æˆ–è€…å‹ç¼©å“ˆå¸Œè¡¨çš„åŠŸèƒ½ã€‚</li>
<li>æˆ‘ä»¬è¿˜éœ€è¦æ”¯æŒæ£€æŸ¥ä¸€ä¸ªé”®æ˜¯å¦å­˜åœ¨äºå“ˆå¸Œè¡¨ä¸­ï¼Œå¹¶è¿”å›ç›¸åº”çš„å€¼ã€‚</li>
</ul>
<p>åœ¨æ­£å¼å¼€å§‹ç¼–ç¨‹ä¹‹å‰ï¼Œå»ºè®®å…ˆç€æ‰‹ä¸€äº›åˆ†å‰²å’Œç›®å½•å¢é•¿çš„å°ä¾‹å­ã€‚</p>
<p>æˆ‘ä»¬å¿…é¡»åœ¨é¡¹ç›®æºä»£ç çš„æŒ‡å®šæ–‡ä»¶ä¸­å®ç°å“ˆå¸Œè¡¨ã€‚è€Œä¸”åªå…è®¸ä¿®æ”¹å“ˆå¸Œè¡¨å¤´æ–‡ä»¶ ( <code>src/include/container/hash/extendible_hash_table.h</code> ) å’Œå¯¹åº”çš„å®ç°æ–‡ä»¶ ( <code>src/container/hash/extendible_hash_table.cpp</code> )ã€‚æˆ‘ä»¬ä¸éœ€è¦ä¿®æ”¹ä»»ä½•å…¶ä»–æ–‡ä»¶ï¼Œåœ¨è§†çº¿ä¸­ï¼Œæˆ‘ä»¬ä¸èƒ½åœ¨å†…éƒ¨ä½¿ç”¨å¦ä¸€ä¸ªå†…ç½®å“ˆå¸Œè¡¨ã€‚è€Œä¸”æˆ‘ä»¬å¿…é¡»åœ¨ <code>ExtendibleHashTable</code>  ç±»ä¸­å®ç°ä»¥ä¸‹å‡½æ•°ï¼š</p>
<ul>
<li>
<p><code>Find(K, V)</code> : ç»™å®šé”® Kï¼Œæ£€æŸ¥å®ƒæ˜¯å¦å­˜åœ¨äºå“ˆå¸Œè¡¨ä¸­ï¼Œå¦‚æœå­˜åœ¨ï¼Œåˆ™åœ¨ V ä¸­å­˜å‚¨æŒ‡å‘å…¶å¯¹åº”å€¼çš„æŒ‡é’ˆå¹¶è¿”å› trueã€‚å¦‚æœé”®ä¸å­˜åœ¨ï¼Œè¿”å› falseã€‚</p>
</li>
<li>
<p><code>Insert(K, V)</code> : å°†é”®å€¼å¯¹æ’å…¥å“ˆå¸Œè¡¨ã€‚å¦‚æœ K å·²ç»å­˜åœ¨ï¼Œåˆ™ç”¨æ–°çš„å€¼ V è¦†ç›–å…¶å€¼ï¼Œå¹¶è¿”å› trueã€‚å¦‚æœé”®å€¼å¯¹ä¸èƒ½è¢«æ’å…¥åˆ°æ¡¶ä¸­ï¼ˆå› ä¸ºæ¡¶å·²ç»æ»¡äº†ï¼Œè€Œä¸”é”®æ²¡æœ‰æ›´æ–°ç°æœ‰çš„å¯¹ï¼‰ï¼Œåœ¨é‡è¯•ä¹‹å‰åšä»¥ä¸‹æ­¥éª¤ï¼š</p>
<ol>
<li>å¦‚æœæ¡¶çš„æœ¬åœ°æ·±åº¦ (local depth) ç­‰äºå…¨å±€æ·±åº¦ (global depth)ã€‚é€’å¢å…¨å±€æ·±åº¦ã€‚å¹¶å°†ç›®å½• (directory) çš„å¤§å°å¢åŠ ä¸€å€ã€‚</li>
<li>å¢åŠ æ¡¶çš„å±€éƒ¨æ·±åº¦ã€‚</li>
<li>åˆ†å‰²æ¡¶ã€‚å¹¶é‡æ–°åˆ†é…ç›®å½•æŒ‡é’ˆå’Œæ¡¶ä¸­çš„ K/V å¯¹ã€‚</li>
</ol>
<p><strong>æœ‰é™å®ç°æ˜¯åœ¨æ’å…¥åï¼Œå¦‚æœæ¡¶æ»¡äº†å°±åˆ†å‰²æ¡¶ï¼Œä½†æ˜¯åœ¨è¿™ä¸ªé¡¹ç›®æ¡¶ï¼Œè¯·æ£€æµ‹æ¡¶æ˜¯å¦æº¢å‡ºï¼Œå¹¶åœ¨æ’å…¥ä¹‹å‰æ‰§è¡Œåˆ†å‰²ï¼</strong></p>
</li>
<li>
<p><code>Remove(K)</code> ï¼šç»™å®š K, ä»å“ˆå¸Œè¡¨åˆ é™¤å…¶å¯¹åº”çš„é”®å€¼å¯¹ï¼Œå¹¶è¿”å› trueã€‚å¦‚æœä¸å­˜åœ¨ï¼Œè¿”å› falseã€‚</p>
</li>
<li>
<p><code>GetGlobalDepth()</code> : è¿”å›æ•´ä¸ªå“ˆå¸Œè¡¨çš„å½“å‰å…¨å±€æ·±åº¦ã€‚</p>
</li>
<li>
<p><code>GetLocalDepth(dir_index)</code> ï¼šè¿”å›ç»™å®šç›®å½•ç´¢å¼•æ‰€æŒ‡å‘çš„æ¡¶çš„å½“å‰æœ¬åœ°æ·±åº¦ã€‚</p>
</li>
<li>
<p><code>GetNumBuckets()</code> : è¿”å›åœ¨å“ˆå¸Œè¡¨ä¸­åˆ†é…çš„æ¡¶çš„æ€»æ•°ã€‚</p>
</li>
<li>
<p>æˆ‘ä»¬å¯ä»¥åˆ©ç”¨ç»™å®šçš„ <code>IndexOf(K)</code>  çš„ç§æœ‰å‡½æ•°æ¥è®¡ç®—ä¸€ä¸ªç»™å®šé”®æ‰€åˆ‡åˆ†çš„ç›®å½•ç´¢å¼•ã€‚æ­¤å¤–ï¼Œè¿˜æä¾›äº†ä¸€ä¸ª Bucket åµŒå¥—ç±»ï¼Œè¡¨ç¤ºå¯æ‰©å±•å“ˆå¸Œè¡¨ä¸­çš„æ¡¶ã€‚é€šè¿‡éµå¾ªä»£ç æ–‡æ¡£ï¼Œé¦–å…ˆå®Œæˆ Bucket ç±»çš„ TODOs å¯ä»¥è®©æˆ‘ä»¬æ›´å®¹æ˜“å®ç° ``ExtendibleHashTable` çš„ APIã€‚ä½†ä¹Ÿå¯ä»¥è‡ªç”±çš„è¡¨å†™æˆ‘ä»¬è‡ªå·±çš„å†…éƒ¨ç±»å’Œè¾…åŠ©å‡½æ•°ã€‚</p>
</li>
<li>
<p>æˆ‘ä»¬éœ€è¦ä½¿ç”¨ <code>std::mutex</code>  ç¡®ä¿å“ˆå¸Œè¡¨ä¸­çš„æ‰€æœ‰æ“ä½œéƒ½æ˜¯çº¿ç¨‹å®‰å…¨çš„ã€‚å¦‚ä½•ä¿æŠ¤æ•°æ®æœºæ„ç”±æˆ‘ä»¬è‡ªå·±å†³å®šã€‚</p>
</li>
</ul>
<h2 id="å¯æ‰©å±•å“ˆå¸Œè¡¨åŸç†"><a class="markdownIt-Anchor" href="#å¯æ‰©å±•å“ˆå¸Œè¡¨åŸç†">#</a> å¯æ‰©å±•å“ˆå¸Œè¡¨åŸç†</h2>
<p><span class="exturl" data-url="aHR0cHM6Ly93d3cuZ2Vla3Nmb3JnZWVrcy5vcmcvZXh0ZW5kaWJsZS1oYXNoaW5nLWR5bmFtaWMtYXBwcm9hY2gtdG8tZGJtcy8=">Extendible Hashing (Dynamic approach to DBMS)</span></p>
<blockquote>
<p><strong>Extendible Hashing</strong> is a dynamic hashing method wherein directories, and buckets are used to hash data. It is an aggressively flexible method in which the hash function also experiences dynamic changes.</p>
<p><strong>Extendible Hashing</strong> æ˜¯ä¸€ç§åŠ¨æ€å“ˆå¸Œæ–¹æ³•ï¼Œå…¶ä¸­ç›®å½•å’Œæ¡¶è¢«ç”¨äºå“ˆå¸Œæ•°æ®ã€‚å¯æ‰©å±•å“ˆå¸Œæ˜¯ä¸€ä¸ªæœ‰åŠ›çš„çµæ´»çš„æ–¹æ³•ï¼Œå…¶ä¸­å“ˆå¸Œå‡½æ•°ä¹Ÿç»å†åŠ¨æ€çš„æ”¹å˜ã€‚</p>
</blockquote>
<p><strong>Main features of Extendible Hashing</strong>: The main features in this hashing technique are:</p>
<p><strong>Main features of Extendible Hashing</strong>:  åœ¨å“ˆå¸ŒæŠ€æœ¯ä¸­ä¸»è¦çš„ç‰¹å¾å¦‚ä¸‹ï¼š</p>
<ul>
<li>
<p><strong>Directories:</strong> The directories store addresses of the buckets in pointers. An id is assigned to each directory which may change each time when Directory Expansion takes place.</p>
<p><strong>ç›®å½•:</strong> ç›®å½•åœ¨æŒ‡é’ˆä¸­å­˜å‚¨æ¡¶çš„åœ°å€ã€‚æ¯ä¸ªç›®å½•è¢«åˆ†é…ä¸€ä¸ª <code>id</code>  ï¼Œæ¯æ¬¡ç›®å½•æ‰©å¼ æ—¶ï¼Œ <code>id</code>  å¯èƒ½ä¼šå‘ç”Ÿå˜åŒ–ã€‚</p>
</li>
<li>
<p><strong>Buckets:</strong> The buckets are used to hash the actual data.</p>
<p><strong>æ¡¶:</strong> æ¡¶è¢«ç”¨äºå“ˆå¸ŒçœŸå®çš„æ•°æ®ã€‚</p>
</li>
</ul>
<p><strong>Basic Structure of Extendible Hashing</strong>**ğŸ˜—*</p>
<p>å¯æ‰©å±•å“ˆå¸Œçš„åŸºæœ¬ç»“æ„</p>
<p>![image-20230424230000782](D:\Blog\source_posts\CMU15-445 Project1\image-20230424230000782.png)</p>
<p><strong>Frequently used terms in Extendible Hashing</strong>**ğŸ˜—*</p>
<p>åœ¨å¯æ‰©å±•å“ˆå¸Œä¸­å¸¸ç”¨æœ¯è¯­</p>
<ul>
<li>
<p><strong>Directories:</strong> These containers store pointers to buckets. Each directory is given a unique id which may change each time when expansion takes place. The hash function returns this directory id which is used to navigate to the appropriate bucket. Number of Directories = 2^Global Depth.</p>
<p><strong>ç›®å½•:</strong> è¿™ä¸ªå®¹å™¨å­˜å‚¨æŒ‡å‘æ¡¶çš„æŒ‡é’ˆã€‚æ¯ä¸ªç›®å½•ç»™å®šä¸€ä¸ªå”¯ä¸€çš„ idï¼Œå½“æ‰©å¼ å‘ç”Ÿæ—¶ <code>id</code>  å¯èƒ½éšä¹‹æ”¹å˜ã€‚å“ˆå¸Œå‡½æ•°è¿”å›è¿™ä¸ªç›®å½•çš„ idï¼Œè¿™ä¸ª <code>id</code>  è¢«ç”¨æ¥æŒ‡å‘åˆé€‚çš„æ¡¶ã€‚</p>
<p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mtext>ç›®å½•çš„æ•°é‡</mtext><mo>=</mo><msup><mn>2</mn><mtext>å…¨å±€æ·±åº¦</mtext></msup></mrow><annotation encoding="application/x-tex">ç›®å½•çš„æ•°é‡ = 2^{å…¨å±€æ·±åº¦}
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord cjk_fallback">ç›®</span><span class="mord cjk_fallback">å½•</span><span class="mord cjk_fallback">çš„</span><span class="mord cjk_fallback">æ•°</span><span class="mord cjk_fallback">é‡</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8913309999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8913309999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord cjk_fallback mtight">å…¨</span><span class="mord cjk_fallback mtight">å±€</span><span class="mord cjk_fallback mtight">æ·±</span><span class="mord cjk_fallback mtight">åº¦</span></span></span></span></span></span></span></span></span></span></span></span></span></p>
</li>
<li>
<p><strong>Buckets:</strong> They store the hashed keys. Directories point to buckets. A bucket may contain more than one pointers to it if its local depth is less than the global depth.</p>
<p><strong>æ¡¶:</strong>  å®ƒä»¬å­˜å‚¨å“ˆå¸Œé”®ã€‚ç›®å½•æŒ‡å‘æ¡¶ã€‚å¦‚æœå±€éƒ¨æ·±åº¦å°äºå…¨å±€æ·±åº¦æ—¶ï¼Œä¸€ä¸ªæ¡¶å¯èƒ½åŒ…å«ä¸æ­¢ä¸€ä¸ªæŒ‡é’ˆæŒ‡å‘å®ƒã€‚</p>
</li>
<li>
<p><strong>Global Depth:</strong> It is associated with the Directories. They denote the number of bits which are used by the hash function to categorize the keys. Global Depth = Number of bits in directory id.</p>
<p><strong>å…¨å±€æ·±åº¦</strong>ï¼šå®ƒè·Ÿç›®å½•ç›¸å…³è”ã€‚å®ƒä»¬è¡¨ç¤ºå“ˆå¸Œå‡½æ•°ä½¿ç”¨çš„æ¯”ç‰¹ä½æ•°ç›®å»åˆ†ç±»è¿™äº›é”®ã€‚å…¨å±€æ·±åº¦ = ç›®å½• id çš„æ¯”ç‰¹ä½æ•°ã€‚</p>
</li>
<li>
<p><strong>Local Depth:</strong> It is the same as that of Global Depth except for the fact that Local Depth is associated with the buckets and not the directories. Local depth in accordance with the global depth is used to decide the action that to be performed in case an overflow occurs. Local Depth is always less than or equal to the Global Depth.</p>
<p><strong>å±€éƒ¨æ·±åº¦</strong>ï¼šå’Œå…¨å±€æ·±åº¦ç±»ä¼¼ï¼Œé™¤äº†å±€éƒ¨æ·±åº¦æ˜¯è·Ÿæ¡¶å…³è”ï¼Œè€Œä¸æ˜¯è·Ÿç›®å½•ã€‚å½“æ¡¶æº¢å‡ºå‘ç”Ÿæ—¶ï¼Œå±€éƒ¨æ·±åº¦æ ¹æ®å…¨å±€æ·±åº¦å»å†³å®šæ‰§è¡Œçš„è¡Œä¸ºã€‚å±€éƒ¨æ·±åº¦é€šå¸¸å°äºç­‰äºå…¨å±€æ·±åº¦ã€‚</p>
</li>
<li>
<p><strong>Bucket Splitting:</strong> When the number of elements in a bucket exceeds a particular size, then the bucket is split into two parts.</p>
<p><strong>æ¡¶åˆ†è£‚</strong>ï¼šå½“æ¡¶çš„å…ƒç´ è¶…è¿‡äº†ç‰¹å®šçš„å¤§å°ï¼Œé‚£ä¹ˆæ¡¶åˆ†è£‚æˆä¸¤ä¸ªéƒ¨åˆ†ã€‚</p>
</li>
<li>
<p><strong>Directory Expansion:</strong> Directory Expansion Takes place when a bucket overflows. Directory Expansion is performed when the local depth of the overflowing bucket is equal to the global depth.</p>
<p><strong>ç›®å½•æ‰©å®¹</strong>ï¼šå½“æ¡¶æº¢å‡ºæ—¶ï¼Œäº§ç”Ÿç›®å½•æ‰©å®¹ã€‚å½“æº¢å‡ºæ¡¶çš„å±€éƒ¨æ·±åº¦ç­‰äºå…¨å±€æ·±åº¦æ—¶ï¼Œç›®å½•æ‰©å®¹è¢«æ‰§è¡Œã€‚</p>
</li>
</ul>
<p><strong>Basic Working of Extendible Hashing</strong>:</p>
<p>å¯æ‰©å±•å“ˆå¸ŒåŸºæœ¬å·¥ä½œæµç¨‹</p>
<p>![image-20230424230307442](D:\Blog\source_posts\CMU15-445 Project1\image-20230424230307442.png)</p>
<ol>
<li>
<p><strong>Step 1 â€“ Analyze Data Elements:</strong> Data elements may exist in various forms eg. Integer, String, Float, etcâ€¦ Currently, let us consider data elements of type integer. eg: 49.</p>
<p>** æ­¥éª¤ 1 â€“ åˆ†ææ•°æ®å…ƒç´ ï¼š** æ•°æ®å…ƒç´ å¯èƒ½ä»¥å„ç§å½¢å¼å­˜åœ¨ï¼Œæ¯”å¦‚æ•´å½¢ï¼Œå­—ç¬¦ä¸²ï¼Œæµ®ç‚¹æ•°ç­‰ç­‰â€¦ å½“å‰ï¼Œæˆ‘ä»¬è€ƒè™‘æ•´å½¢è¿™ç±»æ•°æ®å…ƒç´ ï¼Œæ¯”å¦‚ 49ã€‚</p>
</li>
<li>
<p><strong>Step 2 â€“ Convert into binary format:</strong> Convert the data element in Binary form. For string elements, consider the ASCII equivalent integer of the starting character and then convert the integer into binary form. Since we have 49 as our data element, its binary form is 110001.</p>
<p>** æ­¥éª¤ 2 - è½¬æ¢æˆäºŒè¿›åˆ¶å½¢å¼ï¼š** å°†æ•°æ®å…ƒç´ è½¬æ¢ä¸ºäºŒè¿›åˆ¶å½¢å¼ã€‚å¯¹äºå­—ç¬¦ä¸²å…ƒç´ ï¼Œè€ƒè™‘ ASCII ç èµ·å§‹å­—ç¬¦çš„å¯¹åº”æ•´æ•°ï¼Œç„¶åè½¬æ¢æˆäºŒè¿›åˆ¶å½¢å¼ã€‚å› ä¸ºæˆ‘ä»¬æ˜¯å°† 49 ä½œä¸ºæ•°æ®å…ƒç´ ï¼Œå®ƒçš„äºŒè¿›åˆ¶å½¢å¼æ˜¯ 11001ã€‚</p>
</li>
<li>
<p><strong>Step 3 â€“ Check Global Depth of the directory.</strong> Suppose the global depth of the Hash-directory is 3.</p>
<p>** æ­¥éª¤ 3 - æ£€æŸ¥ç›®å½•çš„å…¨å±€æ·±åº¦ï¼š** å‡è®¾å“ˆå¸Œç›®å½•çš„å…¨å±€æ·±åº¦æ˜¯ 3ã€‚</p>
</li>
<li>
<p><strong>Step 4 â€“ Identify the Directory:</strong> Consider the â€˜Global-Depthâ€™ number of LSBs in the binary number and match it to the directory id.  Eg. The binary obtained is: 110001 and the global-depth is 3. So, the hash function will return 3 LSBs of 110<strong>001</strong> viz. 001.</p>
<p><strong>æ­¥éª¤ 4 - è¯†åˆ«ç›®å½•ï¼š<strong>è€ƒè™‘åœ¨äºŒè¿›åˆ¶ä¸‹æœ€ä½ â€œå…¨å±€æ·±åº¦â€ ä½ï¼Œç„¶åå»åŒ¹é…ç›®å½• idã€‚æ¯”å¦‚ï¼ŒäºŒè¿›åˆ¶æ˜¯ï¼š110001ï¼Œå…¨å±€æ·±åº¦æ˜¯ 3ï¼Œæ‰€ä»¥å“ˆå¸Œå‡½æ•°ä¼šè¿”å› 110</strong>001</strong> æœ€åä¸‰ä½ï¼Œå³ 001ã€‚</p>
</li>
<li>
<p><strong>Step 5 â€“ Navigation:</strong> Now, navigate to the bucket pointed by the directory with directory-id 001.</p>
<p><strong>æ­¥éª¤ 5 - å¯¼èˆª</strong>ï¼šç°åœ¨ï¼Œè®¿é—®ç›®å½• id=001 æŒ‡å‘çš„æ¡¶ã€‚</p>
</li>
<li>
<p><strong>Step 6 â€“ Insertion and Overflow Check:</strong> Insert the element and check if the bucket overflows. If an overflow is encountered, go to <strong>step 7</strong> followed by <strong>Step 8</strong>, otherwise, go to <strong>step 9</strong>.</p>
<p>** æ­¥éª¤ 6 â€“ æ’å…¥å’Œæº¢å‡ºæ£€æŸ¥ï¼š** æ’å…¥å…ƒç´ å¹¶ä¸”æ£€æŸ¥æ¡¶æ˜¯å¦æº¢å‡ºã€‚å¦‚æœé‡åˆ°æº¢å‡ºï¼Œè½¬å‘æ­¥éª¤ 7 å’Œæ­¥éª¤ 8ï¼Œå¦åˆ™è½¬åˆ°æ­¥éª¤ 9ã€‚</p>
</li>
<li>
<p><strong>Step 7 â€“ Tackling Over Flow Condition during Data Insertion:</strong> Many times, while inserting data in the buckets, it might happen that the Bucket overflows. In such cases, we need to follow an appropriate procedure to avoid mishandling of data.  First, Check if the local depth is less than or equal to the global depth. Then choose one of the cases below.</p>
<p><strong>æ­¥éª¤ 7â€“ å¤„ç†æ•°æ®æ’å…¥è¿‡ç¨‹ä¸­çš„æº¢å‡ºæƒ…å†µ:</strong>  å¾ˆå¤šæƒ…å†µä¸‹ï¼Œå½“åœ¨æ¡¶é‡Œæ’å…¥æ•°æ®æ—¶ï¼Œå¯èƒ½å‘ç”Ÿæ¡¶æº¢å‡ºã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬éœ€è¦é‡‡å–ä¸‹é¢åˆé€‚çš„æµç¨‹å»é¿å…è¯¯æ“ä½œæ•°æ®ã€‚é¦–å…ˆï¼Œæ£€æŸ¥å±€éƒ¨æ·±åº¦æ˜¯å¦å°äºæˆ–ç­‰äºå…¨å±€æ·±åº¦ã€‚ç„¶åé€‰æ‹©ä¸‹è¿°æƒ…å†µä¹‹ä¸€ã€‚</p>
<ul>
<li>
<p><strong>Case1:</strong> If the local depth of the overflowing Bucket is equal to the global depth, then Directory Expansion, as well as Bucket Split, needs to be performed. Then increment the global depth and the local depth value by 1. And, assign appropriate pointers.  Directory expansion will double the number of directories present in the hash structure.</p>
<p><strong>æƒ…å†µ 1:</strong> å¦‚æœæº¢å‡ºæ¡¶çš„æœ¬åœ°æ·±åº¦ç­‰äºå…¨å±€æ·±åº¦ï¼Œé‚£ä¹ˆéœ€è¦æ‰§è¡Œç›®å½•æ‰©å¼ å’Œæ¡¶åˆ†è£‚ã€‚ç„¶åå…¨å±€æ·±åº¦å’Œå±€éƒ¨æ·±åº¦çš„å€¼å¢åŠ  1ï¼Œå¹¶ä¸”æŒ‡å®šåˆé€‚çš„æŒ‡é’ˆã€‚ç›®å½•æ‰©å¼ ä¼š double å“ˆå¸Œç»“æœä¸­çš„ç›®å½•æ•°é‡ã€‚</p>
</li>
<li>
<p><strong>Case2:</strong> In case the local depth is less than the global depth, then only Bucket Split takes place. Then increment only the local depth value by 1. And, assign appropriate pointers.</p>
<p><strong>æƒ…å†µ 2:</strong> å¦‚æœæœ¬åœ°æ·±åº¦å°äºå…¨å±€æ·±åº¦ï¼Œé‚£ä¹ˆä»…ä»…å‘ç”Ÿæ¡¶åˆ†è£‚ã€‚ç„¶åä»…ä»…æŠŠå±€éƒ¨æ·±åº¦å¢åŠ  1ã€‚å¹¶ä¸”æŒ‡å®šåˆé€‚çš„æŒ‡é’ˆã€‚</p>
<p>![image-20230424231204645](D:\Blog\source_posts\CMU15-445 Project1\image-20230424231204645.png)</p>
</li>
</ul>
</li>
<li>
<p><strong>Step 8 â€“ Rehashing of Split Bucket Elements:</strong> The Elements present in the overflowing bucket that is split are rehashed w.r.t the new global depth of the directory.</p>
<p><strong>æ­¥éª¤ 8 - åˆ†è£‚æ¡¶çš„å…ƒç´ é‡æ–°å“ˆå¸Œ</strong>ï¼šåœ¨è¢«åˆ†è£‚çš„æº¢å‡ºæ¡¶ä¸­å‘ˆç°çš„å…ƒç´ ä¼šæ ¹æ®ç›®å½•çš„å…¨å±€æ·±åº¦è¿›è¡Œé‡æ–°å“ˆå¸Œã€‚</p>
</li>
<li>
<p><strong>Step 9 â€“</strong> The element is successfully hashed.</p>
<p><strong>æ­¥éª¤ 9</strong> - å…ƒç´ è¢«æˆåŠŸå“ˆå¸Œã€‚</p>
</li>
</ol>
<p><strong>Example based on Extendible Hashing:</strong> Now, let us consider a prominent example of hashing the following elements: <strong>16,4,6,22,24,10,31,7,9,20,26.</strong></p>
<p>** åŸºäºå¯æ‰©å±•å“ˆå¸Œçš„æ ·ä¾‹ï¼š** ç°åœ¨è®©æˆ‘ä»¬è€ƒè™‘ä¸€ä¸ªå“ˆå¸Œä»¥ä¸‹å…ƒç´ çš„å…¸å‹æ ·ä¾‹ï¼š16,4,6,22,24,10,31,7,9,20,26ã€‚ï¼ˆå…± 11 ä¸ªå…ƒç´ ï¼‰</p>
<p><strong>Bucket Size:</strong> 3 (Assume)</p>
<p>** æ¡¶å¤§å°ï¼š**3ï¼ˆå‡è®¾ï¼‰</p>
<p><strong>Hash Function:</strong> Suppose the global depth is X. Then the Hash Function returns X LSBs.</p>
<p>** å“ˆå¸Œå‡½æ•°ï¼š** å‡è®¾å…¨å±€æ·±åº¦æ˜¯ Xï¼Œé‚£ä¹ˆå“ˆå¸Œå‡½æ•°è¿”å› X çš„æœ€ä½ä½ã€‚</p>
<ol>
<li>
<p><strong>Solution:</strong> First, calculate the binary forms of each of the given numbers.</p>
<p>** è§£å†³æ–¹æ¡ˆï¼š** é¦–å…ˆï¼Œè®¡ç®—æ¯ä¸ªç»™å®šæ•°å€¼çš„äºŒè¿›åˆ¶å½¢å¼ã€‚</p>
<p>16- 10000</p>
<p>4- 00100</p>
<p>6- 00110</p>
<p>22- 10110</p>
<p>24- 11000</p>
<p>10- 01010</p>
<p>31- 11111</p>
<p>7- 00111</p>
<p>9- 01001</p>
<p>20- 10100</p>
<p>26- 11010</p>
</li>
<li>
<p>Initially, the global-depth and local-depth is always 1. Thus, the hashing frame looks like this:</p>
<p>é¦–å…ˆï¼Œå…¨å±€æ·±åº¦å’Œå±€éƒ¨æ·±åº¦æ€»æ˜¯ 1ã€‚å› æ­¤å“ˆå¸Œå›¾çœ‹èµ·æ¥åƒè¿™æ ·ï¼š</p>
<p>![image-20230424231857524](D:\Blog\source_posts\CMU15-445 Project1\image-20230424231857524.png)</p>
</li>
<li>
<p><strong>Inserting 16:</strong>  The binary format of 16 is 10000 and global-depth is 1. The hash function returns 1 LSB of 1000<strong>0</strong> which is 0. Hence, 16 is mapped to the directory with id=0.</p>
<p><strong>Inserting 16:</strong>  16 çš„äºŒè¿›åˆ¶å½¢å¼æ˜¯ 10000ï¼Œä¸”å…¨å±€æ·±åº¦æ˜¯ 1ã€‚å“ˆå¸Œå‡½æ•°è¿”å› 1000<strong>0</strong> æœ€ä½ 1 ä½ä¸º 0ã€‚å› æ­¤ï¼Œ16 æ˜ å°„åˆ°ç›®å½•çš„ <code>id=0</code> ã€‚</p>
<p>![image-20230424231954017](D:\Blog\source_posts\CMU15-445 Project1\image-20230424231954017.png)</p>
</li>
<li>
<p><strong>Inserting 4 and 6:</strong>  Both 4(10<strong>0</strong>) and 6(11<strong>0</strong>)have 0 in their LSB. Hence, they are hashed as follows:</p>
<p><strong>æ’å…¥ 4 å’Œ 6ï¼š<strong>4(10</strong>0</strong>) and 6(11<strong>0</strong>) çš„æœ€ä½ 1 ä½éƒ½æ˜¯ 0ã€‚å› æ­¤ï¼Œä»–ä»¬å“ˆå¸Œç»“æœå¦‚ä¸‹ï¼š</p>
<p>![image-20230424232039916](D:\Blog\source_posts\CMU15-445 Project1\image-20230424232039916.png)</p>
</li>
<li>
<p><strong>Inserting 22:</strong> The binary form of 22 is 1011<strong>0</strong>. Its LSB is 0. The bucket pointed by directory 0 is already full. Hence, Over Flow occurs.</p>
<p>** æ’å…¥ 22ï¼š<strong>22 çš„äºŒè¿›åˆ¶å½¢å¼æ˜¯ 1011</strong>0ã€‚** å®ƒçš„æœ€ä½ä½æ˜¯ 0ã€‚ç›®å½• 0 æŒ‡å‘çš„æ¡¶å·²ç»æ»¡äº†ã€‚å› æ­¤æº¢å‡ºå‘ç”Ÿäº†ã€‚</p>
<p>![image-20230424232131329](D:\Blog\source_posts\CMU15-445 Project1\image-20230424232131329.png)</p>
</li>
<li>
<p>As directed by <strong>Step 7-Case 1</strong>, Since Local Depth = Global Depth, the bucket splits and directory expansion takes place. Also, rehashing of numbers present in the overflowing bucket takes place after the split. And, since the global depth is incremented by 1, now,the global depth is 2. Hence, 16,4,6,22 are now rehashed w.r.t 2 LSBs.[ 16(100<strong>00</strong>),4(1<strong>00</strong>),6(1<strong>10</strong>),22(101<strong>10</strong>) ]</p>
<p>æ­£å¦‚<strong> Step 7-Case 1</strong> æŒ‡ç¤ºçš„ï¼Œå› ä¸ºå±€éƒ¨æ·±åº¦ = å…¨å±€æ·±åº¦ï¼Œæ¡¶åˆ†è£‚ä¸”ç›®å½•æ‰©å¼ ã€‚åŒæ—¶ï¼Œåˆ†è£‚ä¹‹ååœ¨æº¢å‡ºçš„æ¡¶ä¸­é‡æ–°å“ˆå¸Œæ•°å€¼ã€‚å¹¶ä¸”å› ä¸ºå…¨å±€æ·±åº¦å¢åŠ äº† 1ï¼Œæ‰€ä»¥ç°åœ¨å…¨å±€æ·±åº¦æ˜¯ 2ã€‚å› æ­¤ï¼Œ16,4,6,22 è¢«é‡æ–°å“ˆå¸Œä¸ºæœ€ä½ 2 ä½ã€‚[16 (100<strong>00</strong>),4(1<strong>00</strong>),6(1<strong>10</strong>),22(101<strong>10</strong>) ]</p>
<p>![image-20230424232239402](D:\Blog\source_posts\CMU15-445 Project1\image-20230424232239402.png)</p>
<blockquote>
<p>*<em>Notice that the bucket which was underflow has remained untouched. But, since the number of directories has doubled, we now have 2 directories 01 and 11 pointing to the same bucket. This is because the local-depth of the bucket has remained 1. And, any bucket having a local depth less than the global depth is pointed-to by more than one directories.</em></p>
<p>æ³¨æ„ï¼Œæœªæº¢å‡ºçš„æ¡¶å­˜åœ¨æ²¡æœ‰è§¦åŠçš„ã€‚ä½†æ˜¯ï¼Œå› ä¸ºç›®å½•çš„æ•°é‡å·²ç»ç¿»å€ï¼Œæˆ‘ä»¬ç°åœ¨æœ‰ 2 ä¸ªç›®å½• 01 å’Œ 11 æŒ‡å‘äº†åŒä¸€ä¸ªæ¡¶ã€‚è¿™æ˜¯å› ä¸ºæ¡¶çš„å±€éƒ¨æ·±åº¦ä¿æŒä¸º 1ã€‚å¹¶ä¸”ï¼Œä»»ä½•å±€éƒ¨æ·±åº¦å°äºå…¨å±€æ·±åº¦çš„æ¡¶ä¼šè¢«ä¸æ­¢ä¸€ä¸ªç›®å½•æŒ‡å‘ã€‚</p>
</blockquote>
</li>
<li>
<p><strong>Inserting 24 and 10:</strong> 24(110<strong>00</strong>) and 10 (10<strong>10</strong>) can be hashed based on directories with id 00 and 10. Here, we encounter no overflow condition.</p>
<p><strong>æ’å…¥ 24 and 10:</strong> 24(110<strong>00</strong>) å’Œ 10 (10<strong>10</strong>) åŸºäºç›®å½• id 00 å’Œ 10 å¯ä»¥è¢«å“ˆå¸Œã€‚æ­¤å¤„ï¼Œæˆ‘ä»¬æ²¡æœ‰é‡åˆ°æº¢å‡ºçš„æƒ…å†µã€‚</p>
<p>![image-20230424232401349](D:\Blog\source_posts\CMU15-445 Project1\image-20230424232401349.png)</p>
</li>
<li>
<p><strong>Inserting 31,7,9:</strong> All of these elements[ 31(111<strong>11</strong>), 7(1<strong>11</strong>), 9(10<strong>01</strong>) ] have either 01 or 11 in their LSBs. Hence, they are mapped on the bucket pointed out by 01 and 11. We do not encounter any overflow condition here.</p>
<p><strong>æ’å…¥ 31,7,9:</strong> æ‰€æœ‰è¿™äº›å…ƒç´  [ 31 (111<strong>11</strong>), 7(1<strong>11</strong>), 9(10<strong>01</strong>) ] åœ¨æœ€ä½ 2 ä½è¦ä¹ˆ 01ï¼Œè¦ä¹ˆ 11ã€‚å› æ­¤ï¼Œæˆ‘ä»¬æ˜ å°„åˆ° 01 å’Œ 11 å¯¹åº”çš„æ¡¶ã€‚æˆ‘ä»¬æ²¡æœ‰é‡åˆ°ä»»ä½•æº¢å‡ºçš„æƒ…å†µã€‚</p>
<p>![image-20230424232504474](D:\Blog\source_posts\CMU15-445 Project1\image-20230424232504474.png)</p>
</li>
<li>
<p><strong>Inserting 20:</strong> Insertion of data element 20 (101<strong>00</strong>) will again cause the overflow problem.</p>
<p><strong>æ’å…¥ 20:</strong> æ’å…¥å…ƒç´  20 (101<strong>00</strong>) æ—¶å†ä¸€æ¬¡é‡åˆ°äº†æº¢å‡ºé—®é¢˜ã€‚</p>
<p>![image-20230424232547238](D:\Blog\source_posts\CMU15-445 Project1\image-20230424232547238.png)</p>
</li>
<li>
<p>20 is inserted in bucket pointed out by 00. As directed by <strong>Step 7-Case 1</strong>, since the <strong>local depth of the bucket = global-depth</strong>, directory expansion (doubling) takes place along with bucket splitting. Elements present in overflowing bucket are rehashed with the new global depth. Now, the new Hash table looks like this:</p>
<p>20 æ’å…¥çš„æ¡¶è¢« 00 æ‰€æŒ‡å‘ã€‚æ­£å¦‚<strong> Step 7-Case 1</strong> æç¤ºçš„é‚£æ ·ï¼Œå› ä¸º<strong>æ¡¶çš„å±€éƒ¨æ·±åº¦ = å…¨å±€æ·±åº¦</strong>ï¼Œç›®å½•æ‰©å¼ å’Œæ¡¶åˆ†è£‚å‘ç”Ÿäº†ã€‚åœ¨æº¢å‡ºæ¡¶ä¸­çš„å…ƒç´ åœ¨æ–°çš„å…¨å±€æ·±åº¦ä¸‹é‡æ–°å“ˆå¸Œã€‚ç°åœ¨ï¼Œæ–°çš„å“ˆå¸Œè¡¨å¦‚ä¸‹ï¼š</p>
<p>![image-20230424232653483](D:\Blog\source_posts\CMU15-445 Project1\image-20230424232653483.png)</p>
</li>
<li>
<p><strong>Inserting 26:</strong> Global depth is 3. Hence, 3 LSBs of 26(11<strong>010</strong>) are considered. Therefore 26 best fits in the bucket pointed out by directory 010.</p>
<p><strong>æ’å…¥ 26ï¼š<strong>å…¨å±€æ·±åº¦æ˜¯ 3ã€‚å› æ­¤ 26 (11</strong>010</strong>) çš„æœ€ä½ 3 ä½è¢«è€ƒè™‘ã€‚å› æ­¤ 26 æœ€é€‚åˆçš„æ¡¶è¢«ç›®å½• 010 æŒ‡å‘ã€‚</p>
<p>![image-20230424232743216](D:\Blog\source_posts\CMU15-445 Project1\image-20230424232743216.png)</p>
</li>
<li>
<p>The bucket overflows, and, as directed by <strong>Step 7-Case 2,</strong> since the <strong>local depth of bucket &lt; Global depth (2&lt;3)</strong>, directories are not doubled but, only the bucket is split and elements are rehashed.  Finally, the output of hashing the given list of numbers is obtained.</p>
<p>æ¡¶å‘ç”Ÿäº†æº¢å‡ºï¼Œå¹¶ä¸”æŒ‰ç…§<strong> Step 7-Case 2</strong> çš„æŒ‡ç¤ºï¼Œå› æ­¤æ¡¶çš„<strong>å±€éƒ¨æ·±åº¦å°äºå…¨å±€æ·±åº¦ï¼ˆ2&lt;3ï¼‰</strong>ï¼Œç›®å½•ä¸ä¼šç¿»å€ï¼Œä»…ä»…æ˜¯æ¡¶åˆ†è£‚å’Œå…ƒç´ é‡æ–°å“ˆå¸Œã€‚æœ€åï¼Œå“ˆå¸Œç»™å®šæ•°å€¼åˆ—è¡¨çš„ç»“æœå·²ç»è·å¾—ã€‚</p>
<p>![image-20230424232914876](D:\Blog\source_posts\CMU15-445 Project1\image-20230424232914876.png)</p>
</li>
<li>
<p><strong>Hashing of 11 Numbers is Thus Completed.</strong></p>
<p>11 ä¸ªæ•°å€¼çš„å“ˆå¸Œå·²ç»å®Œæˆã€‚</p>
</li>
</ol>
<p><strong>Key Observations:</strong>   <strong>å…³é”®è§‚å¯Ÿï¼š</strong></p>
<ol>
<li>A Bucket will have more than one pointers pointing to it if its local depth is less than the global depth. å¦‚æœå±€éƒ¨æ·±åº¦å°äºå…¨å±€æ·±åº¦ï¼Œä¸€ä¸ªæ¡¶ä¼šè¢«è¶…è¿‡ 1 ä¸ªæŒ‡é’ˆæŒ‡å‘ã€‚</li>
<li>When overflow condition occurs in a bucket, all the entries in the bucket are rehashed with a new local depth. å½“æ¡¶å‘ç”Ÿæº¢å‡ºæ—¶ï¼Œåœ¨è¿™ä¸ªæ¡¶é‡Œçš„æ‰€æœ‰å…ƒç´ éƒ½è¦ç”¨æ–°çš„å±€éƒ¨æ·±åº¦é‡æ–°å“ˆå¸Œã€‚</li>
<li>If Local Depth of the overflowing bucket. å¦‚æœæº¢å‡ºæ¡¶çš„å±€éƒ¨æ·±åº¦</li>
<li>The size of a bucket cannot be changed after the data insertion process begins. åœ¨æ•°æ®æ’å…¥æ“ä½œå¼€å§‹ä¹‹åæ¡¶çš„å¤§å°ä¸èƒ½æ”¹å˜ã€‚</li>
</ol>
<p><strong>Advantages:</strong>   <strong>ä¼˜åŠ¿</strong></p>
<ol>
<li>Data retrieval is less expensive (in terms of computing). æ•°æ®æ£€ç´¢å¾ˆä¾¿å®œï¼ˆæ ¹æ®è®¡ç®—ï¼‰</li>
<li>No problem of Data-loss since the storage capacity increases dynamically. å› æ­¤å­˜å‚¨å®¹é‡åŠ¨æ€å¢é•¿ï¼Œæ•°æ®ä¸¢å¤±æ²¡æœ‰é—®é¢˜ã€‚</li>
<li>With dynamic changes in hashing function, associated old values are rehashed w.r.t the new hash function. éšç€åœ¨å“ˆå¸Œå‡½æ•°ä¸­çš„åŠ¨æ€æ”¹å˜ï¼Œç›¸å…³è”çš„æ—§å€¼è¢«é‡æ–°å“ˆå¸Œåˆ°æ–°çš„å“ˆå¸Œå‡½æ•°ä¸­ã€‚</li>
</ol>
<p><strong>Limitations Of Extendible Hashing:</strong>   <strong>å¯æ‰©å±•å“ˆå¸Œçš„é™åˆ¶</strong></p>
<ol>
<li>The directory size may increase significantly if several records are hashed on the same directory while keeping the record distribution non-uniform. å½“è®°å½•ä¿æŒéå‡åŒ€åˆ†å¸ƒï¼Œå¦‚æœå¤šä¸ªè®°å½•è¢«å“ˆå¸Œåˆ°åŒä¸€ä¸ªç›®å½•ï¼Œé‚£ä¹ˆç›®å½•çš„å¤§å°ä¼šæ˜¾è‘—å¢åŠ ã€‚</li>
<li>Size of every bucket is fixed. æ¯ä¸ªæ¡¶çš„å¤§å°æ˜¯å›ºå®šçš„ã€‚</li>
<li>Memory is wasted in pointers when the global depth and local depth difference becomes drastic. å½“å…¨å±€æ·±åº¦å’Œå±€éƒ¨æ·±åº¦å·®è·å¾ˆå¤§æ—¶ï¼Œå†…å­˜åœ¨æŒ‡é’ˆä¸Šæ˜¯æµªè´¹çš„ã€‚</li>
<li>This method is complicated to code. è¿™ä¸ªæ–¹æ³•åœ¨ä»£ç ä¸Šå¾ˆå¤æ‚ã€‚</li>
</ol>
<h1 id="lru-k-replacement-policy"><a class="markdownIt-Anchor" href="#lru-k-replacement-policy">#</a> LRU-K Replacement Policy</h1>
<h2 id="task-2"><a class="markdownIt-Anchor" href="#task-2">#</a> task</h2>
<p>è¿™ä¸ªç»„ä»¶è´Ÿè´£è·Ÿè¸ªç¼“å†²æ± ä¸­çš„é¡µé¢ä½¿ç”¨æƒ…å†µã€‚æˆ‘ä»¬å°†åœ¨ <code>src/include/buffer/lru_k_replacer.h</code>  ä¸­å®ç°ä¸€ä¸ªåä¸º <code>LRUKReplacer</code>  çš„æ–°ç±»ã€‚å¹¶åœ¨ <code>src/buffer/lru_k_replacer.cpp</code>  ä¸­å®ç°ç›¸åº”çš„å®ç°æ–‡ä»¶ã€‚<br>
æ³¨æ„ï¼š <code>LRUKReplacer</code>  æ˜¯ä¸€ä¸ªç‹¬ç«‹çš„ç±»ï¼Œå®ƒä¸å…¶ä»–çš„ Replacer ç±»æ²¡æœ‰å…³ç³»ã€‚æˆ‘ä»¬åº”è¯¥åªå®ç° LRU-K æ›¿æ¢ç­–ç•¥ï¼Œè€Œä¸éœ€è¦å®ç° LRU æˆ–è€…æ—¶é’Ÿ (clock) æ›¿æ¢ç­–ç•¥ï¼Œå³ä½¿æœ‰ç›¸åº”çš„æ–‡ä»¶ã€‚</p>
<p>LRU-K ç®—æ³•é©±é€ä¸€ä¸ªå¸§ï¼Œè¯¥å¸§çš„åå‘ k - è·ç¦» (Backward k-distance) æ˜¯æ›¿æ¢å™¨ä¸­æ‰€æœ‰å¸§çš„æœ€å¤§å€¼ã€‚** åå‘ k - è·ç¦»çš„è®¡ç®—æ–¹æ³•æ˜¯å½“å‰æ—¶é—´æˆ³å’Œç¬¬ k æ¬¡è®¿é—®çš„æ—¶é—´æˆ³ä¹‹é—´çš„æ—¶é—´å·®ã€‚** ä¸€ä¸ªå°‘äº k æ¬¡å†å²è®¿é—®çš„å¸§è¢«èµ‹äºˆ  <code>+inf</code>  æ¥ä½œä¸ºå®ƒçš„åå‘ k - è·ç¦»ã€‚<br>
å½“å¤šä¸ªå¸§æœ‰ <code>+inf</code>  çš„åå‘ k - è·ç¦»çš„æ—¶å€™ï¼Œæ›¿æ¢å™¨ä¼šé©±é€å…·æœ‰æœ€æ—©æ—¶é—´æˆ³çš„å¸§ã€‚</p>
<p><code>LRUReplacer</code>  çš„æœ€å¤§å°ºå¯¸ä¸ç¼“å†²æ± çš„å°ºå¯¸ç›¸åŒï¼Œå› ä¸ºå®ƒåŒ…å« <code>BufferPoolManager</code>  ä¸­æ‰€æœ‰å¸§çš„å ä½ç¬¦ï¼ˆè®°å½•æ¯ä¸ª page çš„è®¿é—®æ¬¡æ•°ï¼‰ã€‚ç„¶è€Œåœ¨ä»»ä½•ç»™å®šçš„æ—¶åˆ»ï¼Œå¹¶ä¸æ˜¯å¤åˆ¶å™¨ä¸­çš„æ‰€æœ‰å¸§éƒ½è¢«è®¤ä¸ºæ˜¯å¯é©±é€çš„ã€‚ <code>LRUReplacer</code>  çš„å¤§å°ç”±å¯é©±é€çš„æ•°é‡è¡¨ç¤ºã€‚ <code>LRUReplacer</code>  è¢«åˆå§‹åŒ–ä¸ºé‡Œé¢æ²¡æœ‰å¸§ï¼Œç„¶ååªæœ‰å½“ä¸€ä¸ªå¸§æ ‡è®°ä¸ºå¯é©±é€åï¼Œæ›¿æ¢å™¨ (replacer) çš„å¤§å°æ‰ä¼šå¢åŠ ã€‚</p>
<p>æˆ‘ä»¬éœ€è¦å®ç°è¯¾å ‚ä¸Šè®¨è®ºçš„ LRU-K ç­–ç•¥ã€‚æˆ‘ä»¬å°†å®ç°ä»¥ä¸‹æ–¹æ³•:</p>
<ul>
<li><code>Evict(frame_id_t*)</code> <br>
 é©±é€ Replacer æ­£åœ¨è·Ÿè¸ªçš„æ‰€æœ‰å…¶ä»–å¯é©±é€å¸§ç›¸æ¯”ï¼Œå…·æœ‰æœ€å¤§åå‘ k - è·ç¦»çš„å¸§ã€‚åœ¨è¾“å‡ºå‚æ•°ä¸­å­˜å‚¨è¯¥å¸§çš„ IDï¼Œå¹¶è¿”å› trueã€‚å¦‚æœæ²¡æœ‰å¯é©±é€å¸§ï¼Œè¿”å› falseã€‚</li>
<li><code>RecordAccess(frame_id_t)</code> <br>
 è®°å½•ç»™å®šçš„å¸§ ID åœ¨å½“å‰æ—¶é—´æˆ³è¢«è®¿é—®ï¼Œè¿™ä¸ªæ–¹æ³•åº”è¯¥åœ¨ä¸€ä¸ªé¡µé¢è¢« pin åœ¨ <code>BufferPoolManager</code>  åè¢«è°ƒç”¨ã€‚</li>
<li><code>Remove(frame_id_t)</code> <br>
 æ¸…é™¤ä¸ä¸€ä¸ªå¸§ç›¸å…³çš„æ‰€æœ‰è®¿é—®å†å²ã€‚åªæœ‰åœ¨ <code>BufferPoolManager</code>  ä¸­åˆ é™¤ä¸€ä¸ªé¡µé¢çš„æ—¶å€™ï¼Œæ‰åº”è¯¥è°ƒç”¨è¿™ä¸ªæ–¹æ³•ã€‚</li>
<li><code>SetEvictable(frame_id_t, bool set_evictable)</code> <br>
 è¯¥æ–¹æ³•æ§åˆ¶ä¸€ä¸ªå¸§æ˜¯å¦å¯ä»¥è¢«é©±é€ã€‚å®ƒè¿˜æ§åˆ¶ LRUReplacer çš„å¤§å°ã€‚<br>
å½“æˆ‘ä»¬å®ç° <code>BufferPoolManager</code>  çš„æ—¶å€™ï¼Œæˆ‘ä»¬å°±ä¼šçŸ¥é“å•¥æ—¶å€™è°ƒç”¨è¿™ä¸ªå‡½æ•°ã€‚<br>
å…·ä½“æ¥è¯´ï¼Œå½“ä¸€ä¸ªé¡µé¢çš„ pin count è¾¾åˆ° 0 çš„æ—¶å€™ï¼Œå…¶å¯¹åº”çš„å¸§å°±ä¼šæ ‡è®°ä¸ºå¯é©±é€ (Evictable)ã€‚Replacer çš„å¤§å°ä¹Ÿä¼šå¢åŠ ã€‚</li>
<li><code>Size()</code> <br>
 è¿™ä¸ªæ–¹æ³•è¿”å›å½“å‰åœ¨ LRUReplacer ä¸­å¯é©±é€å¸§çš„æ•°é‡ã€‚</li>
<li>å®ç°çš„æ–¹æ³•å–å†³äºæˆ‘ä»¬ã€‚æˆ‘ä»¬è¢«å…è®¸ä½¿ç”¨å†…ç½®çš„ STL å®¹å™¨ã€‚è€Œä¸”å¯ä»¥å‡å®šä¸ä¼šè€—å°½å†…å­˜ï¼Œä½†å¿…é¡»ä¿è¯æ“ä½œæ˜¯çº¿ç¨‹å®‰å…¨çš„ (thread-safe)ã€‚</li>
</ul>
<h2 id="lru-kç®—æ³•åŸç†"><a class="markdownIt-Anchor" href="#lru-kç®—æ³•åŸç†">#</a> LRU-K ç®—æ³•åŸç†</h2>
<p>LRU-K ç®—æ³•å‚è€ƒï¼š<span class="exturl" data-url="aHR0cHM6Ly93d3cuamlhbnNodS5jb20vcC9jNGU0ZDU1NzA2ZmY=">LRU-K å’Œ 2Q ç¼“å­˜ç®—æ³•ä»‹ç»</span></p>
<ul>
<li>
<p>ç®—æ³•æ€æƒ³</p>
<p>LRU-K ä¸­çš„ K ä»£è¡¨æœ€è¿‘ä½¿ç”¨çš„æ¬¡æ•°ï¼Œå› æ­¤ LRU å¯ä»¥è®¤ä¸ºæ˜¯ LRU-1ã€‚LRU-K çš„ä¸»è¦ç›®çš„æ˜¯ä¸ºäº†è§£å†³ LRU ç®—æ³• â€œç¼“å­˜æ±¡æŸ“â€ çš„é—®é¢˜ï¼Œå…¶æ ¸å¿ƒæ€æƒ³æ˜¯å°† â€œæœ€è¿‘ä½¿ç”¨è¿‡ 1 æ¬¡â€ çš„åˆ¤æ–­æ ‡å‡†æ‰©å±•ä¸º â€œæœ€è¿‘ä½¿ç”¨è¿‡ K æ¬¡â€ã€‚</p>
</li>
<li>
<p>å·¥ä½œåŸç†</p>
<p>ç›¸æ¯” LRUï¼ŒLRU-K éœ€è¦å¤šç»´æŠ¤ä¸€ä¸ªé˜Ÿåˆ—ï¼Œç”¨äºè®°å½•æ‰€æœ‰ç¼“å­˜æ•°æ®è¢«è®¿é—®çš„å†å²ã€‚åªæœ‰å½“æ•°æ®çš„è®¿é—®æ¬¡æ•°è¾¾åˆ° K æ¬¡çš„æ—¶å€™ï¼Œæ‰å°†æ•°æ®æ”¾å…¥ç¼“å­˜ã€‚å½“éœ€è¦æ·˜æ±°æ•°æ®æ—¶ï¼ŒLRU-K ä¼šæ·˜æ±°ç¬¬ K æ¬¡è®¿é—®æ—¶é—´è·å½“å‰æ—¶é—´æœ€å¤§çš„æ•°æ®ã€‚è¯¦ç»†å®ç°å¦‚ä¸‹</p>
<p>![img](D:\Blog\source_posts\CMU15-445 Project1\20230425001.png)</p>
<ol>
<li>æ•°æ®ç¬¬ä¸€æ¬¡è¢«è®¿é—®ï¼ŒåŠ å…¥åˆ°è®¿é—®å†å²åˆ—è¡¨ï¼›</li>
<li>å¦‚æœæ•°æ®åœ¨è®¿é—®å†å²åˆ—è¡¨é‡Œåæ²¡æœ‰è¾¾åˆ° K æ¬¡è®¿é—®ï¼Œåˆ™æŒ‰ç…§ä¸€å®šè§„åˆ™ï¼ˆFIFOï¼ŒLRUï¼‰æ·˜æ±°ï¼›</li>
<li>å½“è®¿é—®å†å²é˜Ÿåˆ—ä¸­çš„æ•°æ®è®¿é—®æ¬¡æ•°è¾¾åˆ° K æ¬¡åï¼Œå°†æ•°æ®ç´¢å¼•ä»å†å²é˜Ÿåˆ—åˆ é™¤ï¼Œå°†æ•°æ®ç§»åˆ°ç¼“å­˜é˜Ÿåˆ—ä¸­ï¼Œå¹¶ç¼“å­˜æ­¤æ•°æ®ï¼Œç¼“å­˜é˜Ÿåˆ—é‡æ–°æŒ‰ç…§æ—¶é—´æ’åºï¼›</li>
<li>ç¼“å­˜æ•°æ®é˜Ÿåˆ—ä¸­è¢«å†æ¬¡è®¿é—®åï¼Œé‡æ–°æ’åºï¼›</li>
<li>éœ€è¦æ·˜æ±°æ•°æ®æ—¶ï¼Œæ·˜æ±°ç¼“å­˜é˜Ÿåˆ—ä¸­æ’åœ¨æœ«å°¾çš„æ•°æ®ï¼Œå³ï¼šæ·˜æ±° â€œå€’æ•°ç¬¬ K æ¬¡è®¿é—®ç¦»ç°åœ¨æœ€ä¹…â€ çš„æ•°æ®ã€‚</li>
</ol>
</li>
</ul>
<p>LRU-K å…·æœ‰ LRU çš„ä¼˜ç‚¹ï¼ŒåŒæ—¶èƒ½å¤Ÿé¿å… LRU çš„ç¼ºç‚¹ï¼Œå®é™…åº”ç”¨ä¸­ LRU-2 æ˜¯ç»¼åˆå„ç§å› ç´ åæœ€ä¼˜çš„é€‰æ‹©ï¼ŒLRU-3 æˆ–è€…æ›´å¤§çš„ K å€¼å‘½ä¸­ç‡ä¼šé«˜ï¼Œä½†é€‚åº”æ€§å·®ï¼Œéœ€è¦å¤§é‡çš„æ•°æ®è®¿é—®æ‰èƒ½å°†å†å²è®¿é—®è®°å½•æ¸…é™¤æ‰ã€‚</p>
<p><strong>Two queuesï¼ˆ2Qï¼‰</strong></p>
<ul>
<li>
<p>ç®—æ³•æ€æƒ³</p>
<p>è¯¥ç®—æ³•ç±»ä¼¼äº LRU-2ï¼Œä¸åŒç‚¹åœ¨äº 2Q å°† LRU-2 ç®—æ³•ä¸­çš„è®¿é—®å†å²é˜Ÿåˆ—ï¼ˆæ³¨æ„è¿™ä¸æ˜¯ç¼“å­˜æ•°æ®çš„ï¼‰æ”¹ä¸ºä¸€ä¸ª FIFO ç¼“å­˜é˜Ÿåˆ—ï¼Œå³ï¼š2Q ç®—æ³•æœ‰ä¸¤ä¸ªç¼“å­˜é˜Ÿåˆ—ï¼Œä¸€ä¸ªæ˜¯ FIFO é˜Ÿåˆ—ï¼Œä¸€ä¸ªæ˜¯ LRU é˜Ÿåˆ—ã€‚</p>
</li>
<li>
<p>å·¥ä½œåŸç†</p>
<p>å½“æ•°æ®ç¬¬ä¸€æ¬¡è®¿é—®æ—¶ï¼Œ2Q ç®—æ³•å°†æ•°æ®ç¼“å­˜åœ¨ FIFO é˜Ÿåˆ—é‡Œé¢ï¼Œå½“æ•°æ®ç¬¬äºŒæ¬¡è¢«è®¿é—®æ—¶ï¼Œåˆ™å°†æ•°æ®ä» FIFO é˜Ÿåˆ—ç§»åˆ° LRU é˜Ÿåˆ—é‡Œé¢ï¼Œä¸¤ä¸ªé˜Ÿåˆ—å„è‡ªæŒ‰ç…§è‡ªå·±çš„æ–¹æ³•æ·˜æ±°æ•°æ®ã€‚è¯¦ç»†å®ç°å¦‚ä¸‹ï¼š</p>
<p>![img](D:\Blog\source_posts\CMU15-445 Project1\20230425002.png)</p>
<ol>
<li>æ–°è®¿é—®çš„æ•°æ®æ’å…¥åˆ° FIFO é˜Ÿåˆ—ï¼›</li>
<li>å¦‚æœæ•°æ®åœ¨ FIFO é˜Ÿåˆ—ä¸­ä¸€ç›´æ²¡æœ‰è¢«å†æ¬¡è®¿é—®ï¼Œåˆ™æœ€ç»ˆæŒ‰ç…§ FIFO è§„åˆ™æ·˜æ±°ï¼›</li>
<li>å¦‚æœæ•°æ®åœ¨ FIFO é˜Ÿåˆ—ä¸­è¢«å†æ¬¡è®¿é—®ï¼Œåˆ™å°†æ•°æ®ç§»åˆ° LRU é˜Ÿåˆ—å¤´éƒ¨ï¼›</li>
<li>å¦‚æœæ•°æ®åœ¨ LRU é˜Ÿåˆ—å†æ¬¡è¢«è®¿é—®ï¼Œåˆ™å°†æ•°æ®ç§»åˆ° LRU é˜Ÿåˆ—å¤´éƒ¨ï¼›</li>
<li>LRU é˜Ÿåˆ—æ·˜æ±°æœ«å°¾çš„æ•°æ®ã€‚</li>
</ol>
</li>
</ul>
<p><span class="exturl" data-url="aHR0cHM6Ly9sZWV0Y29kZS5jbi9wcm9ibGVtcy9scnUtY2FjaGUv">146. LRU ç¼“å­˜ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰</span></p>
<p>è¯·ä½ è®¾è®¡å¹¶å®ç°ä¸€ä¸ª<strong>æ»¡è¶³ LRU (æœ€è¿‘æœ€å°‘ä½¿ç”¨) ç¼“å­˜</strong>çº¦æŸçš„æ•°æ®ç»“æ„ã€‚<br>
å®ç°  <code>LRUCache</code>  ç±»ï¼š</p>
<ul>
<li><code>LRUCache(int capacity)</code>  ä»¥ <strong>æ­£æ•´æ•°</strong> ä½œä¸ºå®¹é‡  <code>capacity</code>  åˆå§‹åŒ– LRU ç¼“å­˜</li>
<li><code>int get(int key)</code>  å¦‚æœå…³é”®å­—  <code>key</code>  å­˜åœ¨äºç¼“å­˜ä¸­ï¼Œåˆ™è¿”å›å…³é”®å­—çš„å€¼ï¼Œå¦åˆ™è¿”å›  <code>-1</code>  ã€‚</li>
<li><code>void put(int key, int value)</code>  å¦‚æœå…³é”®å­—  <code>key</code>  å·²ç»å­˜åœ¨ï¼Œåˆ™å˜æ›´å…¶æ•°æ®å€¼  <code>value</code>  ï¼›å¦‚æœä¸å­˜åœ¨ï¼Œåˆ™å‘ç¼“å­˜ä¸­æ’å…¥è¯¥ç»„  <code>key-value</code>  ã€‚å¦‚æœæ’å…¥æ“ä½œå¯¼è‡´å…³é”®å­—æ•°é‡è¶…è¿‡  <code>capacity</code>  ï¼Œåˆ™åº”è¯¥ é€å‡º æœ€ä¹…æœªä½¿ç”¨çš„å…³é”®å­—ã€‚</li>
</ul>
<p>å‡½æ•°  <code>get</code>  å’Œ  <code>put</code>  å¿…é¡»ä»¥  <code>O(1)</code>  çš„å¹³å‡æ—¶é—´å¤æ‚åº¦è¿è¡Œã€‚</p>
<figure class="highlight cpp"><figcaption data-lang="C++"><span>p</span></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">// è¾“å…¥</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token punctuation">[</span><span class="token string">"LRUCache"</span><span class="token punctuation">,</span> <span class="token string">"put"</span><span class="token punctuation">,</span> <span class="token string">"put"</span><span class="token punctuation">,</span> <span class="token string">"get"</span><span class="token punctuation">,</span> <span class="token string">"put"</span><span class="token punctuation">,</span> <span class="token string">"get"</span><span class="token punctuation">,</span> <span class="token string">"put"</span><span class="token punctuation">,</span> <span class="token string">"get"</span><span class="token punctuation">,</span> <span class="token string">"get"</span><span class="token punctuation">,</span> <span class="token string">"get"</span><span class="token punctuation">]</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">]</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token comment">// è¾“å‡º</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token punctuation">[</span>null<span class="token punctuation">,</span> null<span class="token punctuation">,</span> null<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> null<span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> null<span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span></pre></td></tr><tr><td data-num="6"></td><td><pre></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token comment">// è§£é‡Š</span></pre></td></tr><tr><td data-num="8"></td><td><pre>LRUCache lRUCache <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">LRUCache</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="9"></td><td><pre>lRUCache<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ç¼“å­˜æ˜¯ &#123;1=1&#125;</span></pre></td></tr><tr><td data-num="10"></td><td><pre>lRUCache<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ç¼“å­˜æ˜¯ &#123;1=1, 2=2&#125;</span></pre></td></tr><tr><td data-num="11"></td><td><pre>lRUCache<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// è¿”å› 1</span></pre></td></tr><tr><td data-num="12"></td><td><pre>lRUCache<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// è¯¥æ“ä½œä¼šä½¿å¾—å…³é”®å­— 2 ä½œåºŸï¼Œç¼“å­˜æ˜¯ &#123;1=1, 3=3&#125;</span></pre></td></tr><tr><td data-num="13"></td><td><pre>lRUCache<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// è¿”å› -1 (æœªæ‰¾åˆ°)</span></pre></td></tr><tr><td data-num="14"></td><td><pre>lRUCache<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// è¯¥æ“ä½œä¼šä½¿å¾—å…³é”®å­— 1 ä½œåºŸï¼Œç¼“å­˜æ˜¯ &#123;4=4, 3=3&#125;</span></pre></td></tr><tr><td data-num="15"></td><td><pre>lRUCache<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// è¿”å› -1 (æœªæ‰¾åˆ°)</span></pre></td></tr><tr><td data-num="16"></td><td><pre>lRUCache<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// è¿”å› 3</span></pre></td></tr><tr><td data-num="17"></td><td><pre>lRUCache<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// è¿”å› 4</span></pre></td></tr></table></figure><h1 id="buffer-pool-manager-instance"><a class="markdownIt-Anchor" href="#buffer-pool-manager-instance">#</a> Buffer Pool Manager Instance</h1>
<h2 id="task-3"><a class="markdownIt-Anchor" href="#task-3">#</a> task</h2>
<p>æœ€åæˆ‘ä»¬éœ€è¦å®ç°ç¼“å†²æ± ç®¡ç†ç³»ç»Ÿ ( <code>BufferPoolManagerInstance</code> )ã€‚ <code>BufferPoolManagerInstance</code>  æ˜¯ç”¨æ¥ä» <code>DiskManager</code>  ä¸­è·å–æ•°æ®åº“çš„é¡µçš„ï¼Œä»¥åŠåœ¨å†…å­˜ä¸­å­˜å‚¨å®ƒä»¬ã€‚ <code>BufferPoolManagerInstance</code>  ä¹Ÿå¯ä»¥å°†è„é¡µ (dirty page) å†™åˆ°ç£ç›˜ä¸Šï¼Œå½“å®ƒè¢«æ˜ç¡®æŒ‡ç¤ºçš„æ—¶å€™ï¼Œæˆ–è€…å½“å®ƒéœ€è¦é©±é€ä¸€ä¸ªé¡µé¢æ¥è…¾å‡ºç©ºé—´ç»™æ–°çš„é¡µé¢çš„æ—¶å€™ã€‚(è®¡ç»„å’Œ OS çš„çŸ¥è¯†)ã€‚</p>
<p>ä¸ºäº†ç¡®ä¿æˆ‘ä»¬çš„å®ç°èƒ½å’Œç³»ç»Ÿçš„å…¶ä»–éƒ¨åˆ†æ­£å¸¸å·¥ä½œï¼Œæœ¬é¡¹ç›®å°†æä¾›ä¸€äº›å·²ç»å¡«å†™å¥½çš„å‡½æ•°ã€‚æˆ‘ä»¬ä¹Ÿä¸éœ€è¦å®ç°å‘ç£ç›˜å®é™…è¯»å†™æ•°æ®çš„ä»£ç  (è¿™äº›åœ¨æˆ‘ä»¬çš„å®ç°ä¸­è¢«ç§°ä¸º:  <code>DiskManager</code> )ã€‚æœ¬é¡¹ç›®å°†æä¾›è¿™ä¸€åŠŸèƒ½ã€‚</p>
<p>ç³»ç»Ÿä¸­çš„æ‰€æœ‰å†…å­˜é¡µéƒ½ç”± <code>Page</code>  å¯¹è±¡è¡¨ç¤ºã€‚ <code>BufferPoolManagerInstance</code>  ä¸éœ€è¦ç†è§£è¿™äº›é¡µé¢çš„å†…å®¹ã€‚ä½†æ˜¯ä½œä¸ºç³»ç»Ÿå¼€å‘è€…ï¼Œæˆ‘ä»¬å¿…é¡»äº†è§£ <code>Page</code>  å¯¹è±¡åªæ˜¯ç¼“å†²æ± ä¸­å†…å®¹çš„å®¹å™¨ï¼Œå› æ­¤å¹¶ä¸ç‰¹å®šäºæŸä¸ªç‹¬ç«‹çš„é¡µé¢ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œæ¯ä¸ª <code>Page</code>  å¯¹è±¡éƒ½åŒ…å«ä¸€ä¸ªå†…å­˜å—ï¼Œ <code>DiskManager</code>  å°†æŠŠå®ƒä½œä¸ºä¸€ä¸ªä½ç½®æ¥å¤åˆ¶ä»ç£ç›˜è¯»å–çš„ç‰©ç†é¡µçš„å†…å®¹ã€‚</p>
<p><code>BufferPoolManagerInstance</code>  å°†é‡å¤ä½¿ç”¨åŒä¸€ä¸ª <code>Page</code>  å¯¹è±¡æ¥å­˜å‚¨æ•°æ®ï¼Œå› ä¸ºå®ƒä»ç£ç›˜æ¥å›ç§»åŠ¨ã€‚è¿™æ„å‘³ç€åœ¨ç³»ç»Ÿçš„æ•´ä¸ªç”Ÿå‘½å‘¨æœŸä¸­ï¼ŒåŒä¸€ä¸ª <code>Page</code>  å¯¹è±¡å¯èƒ½åŒ…å«ä¸åŒçš„ç‰©ç†é¡µã€‚ <code>Page</code>  å¯¹è±¡çš„æ ‡è¯†ç¬¦ ( <code>page_id</code> ) å¯ä»¥è·Ÿè¸ªå®ƒæ‰€åŒ…å«çš„ç‰©ç†é¡µã€‚å¦‚æœä¸€ä¸ª <code>Page</code>  å¯¹è±¡ä¸åŒ…å«ä¸€ä¸ªç‰©ç†é¡µï¼Œé‚£ä¹ˆ <code>page_id</code>  è¢«è®¾ä¸º <code>INVALID_PAGE_ID</code></p>
<p>æ¯ä¸ªé¡µé¢å¯¹è±¡ä¹Ÿç»´æŠ¤ä¸€ä¸ªè®¡æ•°å™¨ï¼Œç”¨äºè®°å½• Pinned è¯¥é¡µé¢çš„çº¿ç¨‹æ•°é‡ã€‚æˆ‘ä»¬çš„ <code>BufferPoolManagerInstance</code>  ä¸å…è®¸é‡Šæ”¾ä¸€ä¸ªè¢« Pinned ä½çš„é¡µé¢ï¼æ¯ä¸ªé¡µé¢å¯¹è±¡ä¹Ÿä¼šè®°å½•å®ƒæ˜¯å¦æ˜¯è„çš„ï¼Œæˆ‘ä»¬çš„å·¥ä½œå°±æ˜¯è®°å½•ä¸€ä¸ªé¡µé¢åœ¨è¢«æ¥è§¦ Pinned ä½ä¹‹å‰ï¼Œæ˜¯å¦è¢«ä¿®æ”¹è¿‡ã€‚ æˆ‘ä»¬çš„ <code>BufferPoolManagerInstance</code>  å¿…é¡»å°†ä¸€ä¸ªè„é¡µçš„å†…å®¹å†™å›åˆ°ç£ç›˜ä¸Šã€‚ç„¶åè¯¥å¯¹è±¡æ‰èƒ½è¢«é‡æ–°ä½¿ç”¨ã€‚</p>
<p>æˆ‘ä»¬çš„ <code>BufferPoolManagerInstance</code>  å®ç°å°†ä½¿ç”¨æˆ‘ä»¬åœ¨æœ¬ä½œä¸šä¸­å‰å‡ æ­¥ä¸­åˆ›å»ºçš„ <code>ExtendibleHashTable</code>  å’Œ <code>LRUReplacer</code>  ç±»ã€‚å®ƒå°†ä½¿ç”¨ <code>ExtendibleHashTable</code>  è¡¨æ¥æ˜ å°„ <code>page_id</code>  åˆ° <code>frame_id</code> ã€‚å®ƒè¿˜å°†ä½¿ç”¨ <code>LRUKReplacer</code>  æ¥è·Ÿè¸ª <code>Page</code>  å¯¹è±¡è¢«è®¿é—®çš„æ—¶é—´ï¼Œè¿™æ ·å½“å®ƒå¿…é¡»é‡Šæ”¾ä¸€ä¸ª frame ä»¥ä¾¿ä¸ºä»ç£ç›˜å¤åˆ¶ä¸€ä¸ªæ–°çš„ç‰©ç†é¡µè…¾å‡ºç©ºé—´çš„æ—¶å€™ï¼Œå®ƒå°±å¯ä»¥å†³å®šé©±é€å“ªä¸ªã€‚</p>
<p>æˆ‘ä»¬éœ€è¦å®ç°å®šä¹‰åœ¨å¤´æ–‡ä»¶ ( <code>src/include/buffer/buffer_pool_manager_instance.h</code> ) çš„æºæ–‡ä»¶ ( <code>src/buffer/buffer_pool_manager_instance.cpp</code> )</p>
<ul>
<li><code>FetchPgImp(page_id)</code></li>
<li><code>UnpinPgImp(page_id, is_dirty)</code></li>
<li><code>FlushPgImp(page_id)</code></li>
<li><code>NewPgImp(page_id)</code></li>
<li><code>DeletePgImp(page_id)</code></li>
<li><code>FlushAllPagesImpl()</code></li>
</ul>
<p>å‡½æ•°çš„è§£é‡Šï¼š</p>
<ul>
<li>
<p>For  <code>FetchPgImp</code> , å¦‚æœç©ºé—²åˆ—è¡¨æ²¡æœ‰å¯ç”¨çš„é¡µé¢ï¼Œå¹¶ä¸”æ‰€æœ‰çš„å…¶ä»–é¡µé¢ç›®å‰éƒ½è¢« Pinned ä½äº†ï¼Œæˆ‘ä»¬åº”è¯¥è¿”å› <code>nullptr</code> ã€‚ <code>FlushPgImp</code>  åº”è¯¥åˆ·æ–°ä¸€ä¸ªé¡µé¢ï¼Œä¸ç®¡å®ƒçš„ pin status å¦‚ä½•ã€‚</p>
</li>
<li>
<p>For  <code>UnpinPgImp</code> ,  <code>is_dirty</code>  å‚æ•°è®°å½•äº†ä¸€ä¸ªé¡µé¢åœ¨ Pin ä½çš„æ—¶å€™æ˜¯å¦è¢«ä¿®æ”¹ã€‚</p>
</li>
<li>
<p>å½“æˆ‘ä»¬å‘åœ¨ <code>NewPgImp()</code>  åˆ›å»ºä¸€ä¸ªæ–°çš„é¡µé¢çš„æ—¶å€™ï¼Œ <code>AllocatePage</code>  ç§æœ‰æ–¹æ³•ä¸º <code>BufferPoolManager</code>  æä¾›äº†ä¸€ä¸ªå”¯ä¸€çš„æ–°é¡µé¢ IDã€‚å¦ä¸€ä¸ªæ–¹é¢ï¼Œ <code>DeallocatePage()</code>  æ–¹æ³•æ˜¯ä¸€ä¸ªæ¨¡ä»¿é‡Šæ”¾ç£ç›˜ä¸Šçš„é¡µé¢çš„ no-opï¼Œæˆ‘ä»¬åº”è¯¥åœ¨ <code>DeletePgImp()</code>  å®ç°ä¸­è°ƒç”¨ï¼Œ</p>
<blockquote>
<p>åŸæ–‡ï¼š<br>
On the other hand, the  <code>DeallocatePage()</code>  method is a no-op that imitates freeing a page on the disk and you should call this in your  <code>DeletePgImp()</code>  implementation.</p>
</blockquote>
</li>
<li>
<p>æœ€åè¯·å‚è€ƒå‡½æ•°æ–‡æ¡£ï¼Œæ¥äº†è§£å¦‚ä½•å®ç°è¿™äº›å‡½æ•°ï¼Œä»¥åŠ <code>BufferPoolManagerInstance</code>  å¦‚ä½•ä¸ <code>LRUKReplacer</code>  äº’åŠ¨çš„ç»†èŠ‚ã€‚ä¸è¦ç¢°é‚£äº› non-impl ç‰ˆæœ¬ï¼Œæœ¬é¡¹ç›®éœ€è¦è¿™äº›æ¥è¯„åˆ†ã€‚</p>
</li>
</ul>
<p>Disk Manager</p>
<p>ç£ç›˜ç®¡ç†å™¨ç±» ( <code>src/include/storage/disk/disk_manager.h</code> ), ä»ç£ç›˜è¯»å–å’Œå†™å…¥é¡µé¢æ•°æ®ã€‚å½“æˆ‘ä»¬çš„ç¼“å†²æ± ç®¡ç†å™¨å°†åœ¨éœ€è¦å‘ç¼“å†²æ± è·å–é¡µé¢ï¼Œæˆ–è€…å‘ç£ç›˜åˆ·æ–°é¡µé¢çš„æ—¶å€™ï¼Œä½¿ç”¨ <code>DiskManager::ReadPage()</code>  å’Œ <code>DiskManager::WritePage()</code> ã€‚</p>

  </div>

   <footer>

    <div class="meta">
  <span class="item">
    <span class="icon">
      <i class="ic i-calendar-check"></i>
    </span>
    <span class="text">æ›´æ–°äº</span>
    <time title="ä¿®æ”¹æ—¶é—´ï¼š2023-04-25 00:56:16" itemprop="dateModified" datetime="2023-04-25T00:56:16+08:00">2023-04-25</time>
  </span>
  <span id="2023/04/24/CMU15-445 Project1/" class="item leancloud_visitors" data-flag-title="CMU15-445ï¼šProject" title="é˜…è¯»æ¬¡æ•°">
      <span class="icon">
        <i class="ic i-eye"></i>
      </span>
      <span class="text">é˜…è¯»æ¬¡æ•°</span>
      <span class="leancloud-visitors-count"></span>
      <span class="text">æ¬¡</span>
  </span>
</div>

      

<div id="copyright">
<ul>
  <li class="author">
    <strong>æœ¬æ–‡ä½œè€…ï¼š </strong>AdventureYX <i class="ic i-at"><em>@</em></i>
  </li>
  <li class="link">
    <strong>æœ¬æ–‡é“¾æ¥ï¼š</strong>
    <a href="https://adventure-yx.github.io/2023/04/24/CMU15-445%20Project1/" title="CMU15-445ï¼šProject">https://adventure-yx.github.io/2023/04/24/CMU15-445 Project1/</a>
  </li>
  <li class="license">
    <strong>ç‰ˆæƒå£°æ˜ï¼š </strong>æœ¬ç«™æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ <span class="exturl" data-url="aHR0cHM6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL2xpY2Vuc2VzL2J5LW5jLXNhLzQuMC96aC1DTg=="><i class="ic i-creative-commons"><em>(CC)</em></i>BY-NC-SA</span> è®¸å¯åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼
  </li>
</ul>
</div>

  </footer>

</article>

  </div>
  

<div class="post-nav">
    <div class="item left">
      

  <a href="/2023/04/02/C++11/" itemprop="url" rel="prev" data-background-image="&#x2F;2023&#x2F;04&#x2F;02&#x2F;C++11&#x2F;sky-15.jpg" title="C++11&#x2F;14&#x2F;17">
  <span class="type">ä¸Šä¸€ç¯‡</span>
  <span class="category"><i class="ic i-flag"></i> C++</span>
  <h3>C++11/14/17</h3>
  </a>

    </div>
    <div class="item right">
    </div>
</div>

  
  <div class="wrap" id="comments"></div>


        </div>
        <div id="sidebar">
          

<div class="inner">

  <div class="panels">
    <div class="inner">
      <div class="contents panel pjax" data-title="æ–‡ç« ç›®å½•">
          <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#overview"><span class="toc-number">1.</span> <span class="toc-text"> Overview</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#project-specification"><span class="toc-number">2.</span> <span class="toc-text"> Project Specification</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#extendible-hash-table"><span class="toc-number">3.</span> <span class="toc-text"> Extendible Hash Table</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#task"><span class="toc-number">3.1.</span> <span class="toc-text"> task</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%AF%E6%89%A9%E5%B1%95%E5%93%88%E5%B8%8C%E8%A1%A8%E5%8E%9F%E7%90%86"><span class="toc-number">3.2.</span> <span class="toc-text"> å¯æ‰©å±•å“ˆå¸Œè¡¨åŸç†</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#lru-k-replacement-policy"><span class="toc-number">4.</span> <span class="toc-text"> LRU-K Replacement Policy</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#task-2"><span class="toc-number">4.1.</span> <span class="toc-text"> task</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#lru-k%E7%AE%97%E6%B3%95%E5%8E%9F%E7%90%86"><span class="toc-number">4.2.</span> <span class="toc-text"> LRU-K ç®—æ³•åŸç†</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#buffer-pool-manager-instance"><span class="toc-number">5.</span> <span class="toc-text"> Buffer Pool Manager Instance</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#task-3"><span class="toc-number">5.1.</span> <span class="toc-text"> task</span></a></li></ol></li></ol>
      </div>
      <div class="related panel pjax" data-title="ç³»åˆ—æ–‡ç« ">
      </div>
      <div class="overview panel" data-title="ç«™ç‚¹æ¦‚è§ˆ">
        <div class="author" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <img class="image" itemprop="image" alt="AdventureYX"
      data-src="/images/avatar.jpg">
  <p class="name" itemprop="name">AdventureYX</p>
  <div class="description" itemprop="description"></div>
</div>

<nav class="state">
    <div class="item posts">
      <a href="/archives/">
        <span class="count">13</span>
        <span class="name">æ–‡ç« </span>
      </a>
    </div>
    <div class="item categories">
      <a href="/categories/">
        <span class="count">4</span>
        <span class="name">åˆ†ç±»</span>
      </a>
    </div>
    <div class="item tags">
      <a href="/tags/">
        <span class="count">9</span>
        <span class="name">æ ‡ç­¾</span>
      </a>
    </div>
</nav>

<div class="social">
      <span class="exturl item github" data-url="aHR0cHM6Ly9naXRodWIuY29tL0FkdmVudHVyZS15eA==" title="https:&#x2F;&#x2F;github.com&#x2F;Adventure-yx"><i class="ic i-github"></i></span>
</div>

<ul class="menu">
  
    
  <li class="item">
    <a href="/" rel="section"><i class="ic i-home"></i>é¦–é¡µ</a>
  </li>

    
  <li class="item">
    <a href="/about/" rel="section"><i class="ic i-user"></i>å…³äº</a>
  </li>

        
  <li class="item dropdown">
      <a href="javascript:void(0);"><i class="ic i-feather"></i>æ–‡ç« </a>
    <ul class="submenu">

        
  <li class="item">
    <a href="/archives/" rel="section"><i class="ic i-list-alt"></i>å½’æ¡£</a>
  </li>

        
  <li class="item">
    <a href="/categories/" rel="section"><i class="ic i-th"></i>åˆ†ç±»</a>
  </li>

        
  <li class="item">
    <a href="/tags/" rel="section"><i class="ic i-tags"></i>æ ‡ç­¾</a>
  </li>

  </ul>
    
  <li class="item">
    <a href="/friends/" rel="section"><i class="ic i-heart"></i>friends</a>
  </li>

    
  <li class="item">
    <a href="/links/" rel="section"><i class="ic i-magic"></i>links</a>
  </li>


</ul>

      </div>
    </div>
  </div>

  <ul id="quick">
    <li class="prev pjax">
    </li>
    <li class="up"><i class="ic i-arrow-up"></i></li>
    <li class="down"><i class="ic i-arrow-down"></i></li>
    <li class="next pjax">
    </li>
    <li class="percent"></li>
  </ul>
</div>


        </div>
        <div class="dimmer"></div>
      </div>
    </main>
    <footer id="footer">
      <div class="inner">
        <div class="widgets">
          
<div class="rpost pjax">
  <h2>éšæœºæ–‡ç« </h2>
  <ul>
      
  <li class="item">
    
<div class="breadcrumb">
<a href="/categories/C/" title="åˆ†ç±»äº C++">C++</a>
</div>

    <span><a href="/2023/02/24/C++Study/" title="C++ Study">C++ Study</a></span>
  </li>

      
  <li class="item">
    
<div class="breadcrumb">
<a href="/categories/C/" title="åˆ†ç±»äº C++">C++</a>
</div>

    <span><a href="/2023/03/05/C++%E9%9D%A2%E7%BB%8F/" title="C++é¢ç»">C++é¢ç»</a></span>
  </li>

      
  <li class="item">
    
<div class="breadcrumb">
<a href="/categories/Qt/" title="åˆ†ç±»äº Qt">Qt</a>
</div>

    <span><a href="/2023/03/12/QtStudy/" title="Qt Study">Qt Study</a></span>
  </li>

      
  <li class="item">
    
<div class="breadcrumb">
<a href="/categories/Linux/" title="åˆ†ç±»äº Linux">Linux</a>
</div>

    <span><a href="/2023/03/09/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%EF%BC%88%E5%8D%97%E5%A4%A72023%EF%BC%89/" title="æ“ä½œç³»ç»Ÿï¼ˆå—å¤§2023ï¼‰">æ“ä½œç³»ç»Ÿï¼ˆå—å¤§2023ï¼‰</a></span>
  </li>

      
  <li class="item">
    
<div class="breadcrumb">
<a href="/categories/Linux/" title="åˆ†ç±»äº Linux">Linux</a>
</div>

    <span><a href="/2023/03/01/Linux/" title="Linux">Linux</a></span>
  </li>

      
  <li class="item">
    
<div class="breadcrumb">
<a href="/categories/C/" title="åˆ†ç±»äº C++">C++</a>
</div>

    <span><a href="/2023/03/10/STL/" title="STL">STL</a></span>
  </li>

      
  <li class="item">
    
<div class="breadcrumb">
<a href="/categories/DataBase/" title="åˆ†ç±»äº DataBase">DataBase</a>
</div>

    <span><a href="/2023/03/06/CMU15-445%20Project0/" title="CMU15-445 Project#0 å­—å…¸æ ‘trie">CMU15-445 Project#0 å­—å…¸æ ‘trie</a></span>
  </li>

      
  <li class="item">
    
<div class="breadcrumb">
<a href="/categories/Qt/" title="åˆ†ç±»äº Qt">Qt</a>
</div>

    <span><a href="/2023/03/26/QML&QtQuick/" title="QML &amp; Qt Quick">QML & Qt Quick</a></span>
  </li>

      
  <li class="item">
    
<div class="breadcrumb">
<a href="/categories/C/" title="åˆ†ç±»äº C++">C++</a>
</div>

    <span><a href="/2023/03/12/%E7%AE%97%E6%B3%95%E8%BF%9B%E9%98%B6/" title="ç®—æ³•è¿›é˜¶">ç®—æ³•è¿›é˜¶</a></span>
  </li>

      
  <li class="item">
    
<div class="breadcrumb">
<a href="/categories/C/" title="åˆ†ç±»äº C++">C++</a>
</div>

    <span><a href="/2023/04/02/C++11/" title="C++11&#x2F;14&#x2F;17">C++11/14/17</a></span>
  </li>

  </ul>
</div>
<div>
  <h2>æœ€æ–°è¯„è®º</h2>
  <ul class="leancloud-recent-comment"></ul>
</div>

        </div>
        <div class="status">
  <div class="copyright">
    
    &copy; 2022 â€“ 
    <span itemprop="copyrightYear">2023</span>
    <span class="with-love">
      <i class="ic i-sakura rotate"></i>
    </span>
    <span class="author" itemprop="copyrightHolder">AdventureYX @ Adventure</span>
  </div>
  <div class="powered-by">
    åŸºäº <span class="exturl" data-url="aHR0cHM6Ly9oZXhvLmlv">Hexo</span> & Theme.<span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2FtZWhpbWUvaGV4by10aGVtZS1zaG9rYQ==">Shoka</span>
  </div>
</div>

      </div>
    </footer>
  </div>
<script data-config type="text/javascript">
  var LOCAL = {
    path: '2023/04/24/CMU15-445 Project1/',
    favicon: {
      show: "ï¼ˆâ—Â´3ï½€â—ï¼‰ã‚„ã‚Œã‚„ã‚Œã ãœ",
      hide: "(Â´Ğ”ï½€)å¤§å¤‰ã ï¼"
    },
    search : {
      placeholder: "æ–‡ç« æœç´¢",
      empty: "å…³äº ã€Œ ${query} ã€ï¼Œä»€ä¹ˆä¹Ÿæ²¡æœåˆ°",
      stats: "${time} ms å†…æ‰¾åˆ° ${hits} æ¡ç»“æœ"
    },
    valine: true,fancybox: true,
    copyright: 'å¤åˆ¶æˆåŠŸï¼Œè½¬è½½è¯·éµå®ˆ <i class="ic i-creative-commons"></i>BY-NC-SA åè®®ã€‚',
    ignores : [
      function(uri) {
        return uri.includes('#');
      },
      function(uri) {
        return new RegExp(LOCAL.path+"$").test(uri);
      }
    ]
  };
</script>

<script src="https://cdn.polyfill.io/v2/polyfill.js"></script>

<script src="//cdn.jsdelivr.net/combine/npm/pace-js@1.0.2/pace.min.js,npm/pjax@0.2.8/pjax.min.js,npm/whatwg-fetch@3.4.0/dist/fetch.umd.min.js,npm/animejs@3.2.0/lib/anime.min.js,npm/algoliasearch@4/dist/algoliasearch-lite.umd.js,npm/instantsearch.js@4/dist/instantsearch.production.min.js,npm/lozad@1/dist/lozad.min.js,npm/quicklink@2/dist/quicklink.umd.js"></script>

<script src="/js/app.js?v=0.2.5"></script>




</body>
</html>
